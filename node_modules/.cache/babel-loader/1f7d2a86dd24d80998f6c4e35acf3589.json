{"ast":null,"code":"import _slicedToArray from\"/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,forwardRef,useImperativeHandle,useRef}from\"react\";import{Modal,Button}from'react-bootstrap';import Cookies from\"universal-cookie\";import NumberFormat from\"react-number-format\";import Barcode from'react-barcode';import QRCode from\"react-qr-code\";import html2canvas from'html2canvas';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductJson=/*#__PURE__*/forwardRef(function(props,ref){useImperativeHandle(ref,function(){return{open:function open(content){jsonContent=content;setJsonContent(jsonContent);SetShow(true);}};});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jsonContent=_useState2[0],setJsonContent=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),model=_useState4[0],setModel=_useState4[1];var cookies=new Cookies();var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],SetShow=_useState6[1];function handleClose(){SetShow(false);};function getProductRetailPrice(product){var store_id=cookies.get(\"store_id\");if(!store_id||!product.stores){return\"\";}for(var i=0;i<product.stores.length;i++){if(product.stores[i].store_id===store_id){return parseFloat(product.stores[i].retail_unit_price+parseFloat(product.stores[i].retail_unit_price*0.15)).toFixed(2);}}return\"\";}var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),copied=_useState8[0],setCopied=_useState8[1];function copy(){/* Get the text field */var copyText=document.getElementById(\"data\");//console.log(\"copyText :\", copyText.innerText);\n/* Select the text field */ //copyText.select();\n//copyText.setSelectionRange(0, 99999); /* For mobile devices */\n/* Copy the text inside the text field */navigator.clipboard.writeText(copyText.innerText);copied=true;setCopied(true);/* Alert the copied text */ // alert(\"Copied the text: \" + copyText.innerText);\n}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:show,size:\"xl\",onHide:handleClose,animation:false,scrollable:true,children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[/*#__PURE__*/_jsx(Modal.Title,{children:\"Json \"}),/*#__PURE__*/_jsx(\"div\",{className:\"col align-self-end text-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:handleClose,\"aria-label\":\"Close\"})})]}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 align-self-end text-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:copy,children:copied?\"Copied\":\"Copy\"})})}),/*#__PURE__*/_jsx(\"code\",{children:/*#__PURE__*/_jsx(\"pre\",{id:\"data\",children:JSON.stringify(jsonContent,null,2)})})]})]})});});export default ProductJson;","map":{"version":3,"sources":["/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/src/product/json.js"],"names":["React","useState","forwardRef","useImperativeHandle","useRef","Modal","Button","Cookies","NumberFormat","Barcode","QRCode","html2canvas","ProductJson","props","ref","open","content","jsonContent","setJsonContent","SetShow","model","setModel","cookies","show","handleClose","getProductRetailPrice","product","store_id","get","stores","i","length","parseFloat","retail_unit_price","toFixed","copied","setCopied","copy","copyText","document","getElementById","navigator","clipboard","writeText","innerText","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState, forwardRef, useImperativeHandle, useRef } from \"react\";\nimport { Modal, Button } from 'react-bootstrap';\nimport Cookies from \"universal-cookie\";\nimport NumberFormat from \"react-number-format\";\nimport Barcode from 'react-barcode';\nimport QRCode from \"react-qr-code\";\nimport html2canvas from 'html2canvas';\n\nconst ProductJson = forwardRef((props, ref) => {\n\n    useImperativeHandle(ref, () => ({\n        open(content) {\n            jsonContent = content;\n            setJsonContent(jsonContent);\n            SetShow(true);\n\n        },\n\n    }));\n\n    let [jsonContent, setJsonContent] = useState([]);\n\n\n    let [model, setModel] = useState({});\n    const cookies = new Cookies();\n\n    const [show, SetShow] = useState(false);\n\n    function handleClose() {\n        SetShow(false);\n    };\n\n    function getProductRetailPrice(product) {\n        let store_id = cookies.get(\"store_id\");\n        if (!store_id || !product.stores) {\n            return \"\";\n        }\n        for (let i = 0; i < product.stores.length; i++) {\n            if (product.stores[i].store_id === store_id) {\n                return parseFloat(product.stores[i].retail_unit_price + parseFloat(product.stores[i].retail_unit_price * 0.15)).toFixed(2);\n            }\n        }\n        return \"\";\n    }\n\n    let [copied, setCopied] = useState(false);\n\n    function copy() {\n        /* Get the text field */\n        var copyText = document.getElementById(\"data\");\n\n        //console.log(\"copyText :\", copyText.innerText);\n        /* Select the text field */\n        //copyText.select();\n        //copyText.setSelectionRange(0, 99999); /* For mobile devices */\n\n        /* Copy the text inside the text field */\n        navigator.clipboard.writeText(copyText.innerText);\n        copied = true;\n        setCopied(true);\n        /* Alert the copied text */\n        // alert(\"Copied the text: \" + copyText.innerText);\n    }\n\n\n    return (<>\n        <Modal show={show} size=\"xl\" onHide={handleClose} animation={false} scrollable={true}>\n            <Modal.Header>\n                <Modal.Title>Json </Modal.Title>\n\n                <div className=\"col align-self-end text-end\">\n                    {/*\n                        <button\n                            className=\"btn btn-primary mb-3\"\n                            data-bs-toggle=\"modal\"\n                            data-bs-target=\"#previewProductModal\"\n                        >\n                            <i className=\"bi bi-display\"></i> Preview\n                        </button> */}\n                    <button\n                        type=\"button\"\n                        className=\"btn-close\"\n                        onClick={handleClose}\n                        aria-label=\"Close\"\n                    ></button>\n\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"row\">\n                    <div className=\"col-md-12 align-self-end text-end\">\n                        <Button variant=\"primary\" onClick={copy} >\n                            {copied ? \"Copied\" : \"Copy\"}\n\n                        </Button>\n                    </div>\n                </div>\n                <code>\n                    <pre id=\"data\">{JSON.stringify(jsonContent, null, 2)}</pre>\n\n                </code>\n\n            </Modal.Body>\n\n        </Modal>\n    </>);\n\n});\n\nexport default ProductJson;"]},"metadata":{},"sourceType":"module"}