{"ast":null,"code":"var _jsxFileName = \"/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/src/product/json.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, forwardRef, useImperativeHandle, useRef } from \"react\";\nimport { Modal, Button } from 'react-bootstrap';\nimport Cookies from \"universal-cookie\";\nimport NumberFormat from \"react-number-format\";\nimport Barcode from 'react-barcode';\nimport QRCode from \"react-qr-code\";\nimport html2canvas from 'html2canvas';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductJson = /*#__PURE__*/forwardRef(_c = _s((props, ref) => {\n  _s();\n\n  useImperativeHandle(ref, () => ({\n    open(content) {\n      jsonContent = content;\n      setJsonContent(jsonContent);\n      SetShow(true);\n    }\n\n  }));\n  let [jsonContent, setJsonContent] = useState([]);\n  let [model, setModel] = useState({});\n  const cookies = new Cookies();\n  const [show, SetShow] = useState(false);\n\n  function handleClose() {\n    SetShow(false);\n  }\n\n  ;\n\n  function getProductRetailPrice(product) {\n    let store_id = cookies.get(\"store_id\");\n\n    if (!store_id || !product.stores) {\n      return \"\";\n    }\n\n    for (let i = 0; i < product.stores.length; i++) {\n      if (product.stores[i].store_id === store_id) {\n        return parseFloat(product.stores[i].retail_unit_price + parseFloat(product.stores[i].retail_unit_price * 0.15)).toFixed(2);\n      }\n    }\n\n    return \"\";\n  }\n\n  let [copied, setCopied] = useState(false);\n\n  function copy() {\n    /* Get the text field */\n    var copyText = document.getElementById(\"data\"); //console.log(\"copyText :\", copyText.innerText);\n\n    /* Select the text field */\n    //copyText.select();\n    //copyText.setSelectionRange(0, 99999); /* For mobile devices */\n\n    /* Copy the text inside the text field */\n\n    navigator.clipboard.writeText(copyText.innerText);\n    copied = true;\n    setCopied(true);\n    /* Alert the copied text */\n    // alert(\"Copied the text: \" + copyText.innerText);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      size: \"xl\",\n      onHide: handleClose,\n      animation: false,\n      scrollable: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: [/*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Json \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col align-self-end text-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: handleClose,\n            \"aria-label\": \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 align-self-end text-end\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: copy,\n              children: copied ? \"Copied\" : \"Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n          children: /*#__PURE__*/_jsxDEV(\"pre\", {\n            id: \"data\",\n            children: JSON.stringify(jsonContent, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}, \"atKH5YzgZoSPe96adJ1iZDJYmHU=\", false, function () {\n  return [useImperativeHandle];\n}));\n_c2 = ProductJson;\nexport default ProductJson;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProductJson$forwardRef\");\n$RefreshReg$(_c2, \"ProductJson\");","map":{"version":3,"sources":["/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/src/product/json.js"],"names":["React","useState","forwardRef","useImperativeHandle","useRef","Modal","Button","Cookies","NumberFormat","Barcode","QRCode","html2canvas","ProductJson","props","ref","open","content","jsonContent","setJsonContent","SetShow","model","setModel","cookies","show","handleClose","getProductRetailPrice","product","store_id","get","stores","i","length","parseFloat","retail_unit_price","toFixed","copied","setCopied","copy","copyText","document","getElementById","navigator","clipboard","writeText","innerText","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState, forwardRef, useImperativeHandle, useRef } from \"react\";\nimport { Modal, Button } from 'react-bootstrap';\nimport Cookies from \"universal-cookie\";\nimport NumberFormat from \"react-number-format\";\nimport Barcode from 'react-barcode';\nimport QRCode from \"react-qr-code\";\nimport html2canvas from 'html2canvas';\n\nconst ProductJson = forwardRef((props, ref) => {\n\n    useImperativeHandle(ref, () => ({\n        open(content) {\n            jsonContent = content;\n            setJsonContent(jsonContent);\n            SetShow(true);\n\n        },\n\n    }));\n\n    let [jsonContent, setJsonContent] = useState([]);\n\n\n    let [model, setModel] = useState({});\n    const cookies = new Cookies();\n\n    const [show, SetShow] = useState(false);\n\n    function handleClose() {\n        SetShow(false);\n    };\n\n    function getProductRetailPrice(product) {\n        let store_id = cookies.get(\"store_id\");\n        if (!store_id || !product.stores) {\n            return \"\";\n        }\n        for (let i = 0; i < product.stores.length; i++) {\n            if (product.stores[i].store_id === store_id) {\n                return parseFloat(product.stores[i].retail_unit_price + parseFloat(product.stores[i].retail_unit_price * 0.15)).toFixed(2);\n            }\n        }\n        return \"\";\n    }\n\n    let [copied, setCopied] = useState(false);\n\n    function copy() {\n        /* Get the text field */\n        var copyText = document.getElementById(\"data\");\n\n        //console.log(\"copyText :\", copyText.innerText);\n        /* Select the text field */\n        //copyText.select();\n        //copyText.setSelectionRange(0, 99999); /* For mobile devices */\n\n        /* Copy the text inside the text field */\n        navigator.clipboard.writeText(copyText.innerText);\n        copied = true;\n        setCopied(true);\n        /* Alert the copied text */\n        // alert(\"Copied the text: \" + copyText.innerText);\n    }\n\n\n    return (<>\n        <Modal show={show} size=\"xl\" onHide={handleClose} animation={false} scrollable={true}>\n            <Modal.Header>\n                <Modal.Title>Json </Modal.Title>\n\n                <div className=\"col align-self-end text-end\">\n                    {/*\n                        <button\n                            className=\"btn btn-primary mb-3\"\n                            data-bs-toggle=\"modal\"\n                            data-bs-target=\"#previewProductModal\"\n                        >\n                            <i className=\"bi bi-display\"></i> Preview\n                        </button> */}\n                    <button\n                        type=\"button\"\n                        className=\"btn-close\"\n                        onClick={handleClose}\n                        aria-label=\"Close\"\n                    ></button>\n\n                </div>\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"row\">\n                    <div className=\"col-md-12 align-self-end text-end\">\n                        <Button variant=\"primary\" onClick={copy} >\n                            {copied ? \"Copied\" : \"Copy\"}\n\n                        </Button>\n                    </div>\n                </div>\n                <code>\n                    <pre id=\"data\">{JSON.stringify(jsonContent, null, 2)}</pre>\n\n                </code>\n\n            </Modal.Body>\n\n        </Modal>\n    </>);\n\n});\n\nexport default ProductJson;"]},"metadata":{},"sourceType":"module"}