{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import PurchaseCreate from\"./create.js\";import PurchaseView from\"./view.js\";import Cookies from\"universal-cookie\";import{Typeahead}from\"react-bootstrap-typeahead\";import{format}from\"date-fns\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{Button,Spinner,Badge}from\"react-bootstrap\";import ReactPaginate from\"react-paginate\";import PurchaseReturnCreate from\"./../purchase_return/create.js\";import NumberFormat from\"react-number-format\";import PurchaseCashDiscountCreate from\"./../purchase_cash_discount/create.js\";import PurchaseCashDiscountDetailsView from\"./../purchase_cash_discount/view.js\";import PurchasePaymentCreate from\"./../purchase_payment/create.js\";import PurchasePaymentDetailsView from\"./../purchase_payment/view.js\";import ReactExport from'react-data-export';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExcelFile=ReactExport.ExcelFile;var ExcelSheet=ReactExport.ExcelFile.ExcelSheet;function PurchaseIndex(props){var cookies=new Cookies();var _useState=useState(0.00),_useState2=_slicedToArray(_useState,2),totalPurchase=_useState2[0],setTotalPurchase=_useState2[1];var _useState3=useState(0.00),_useState4=_slicedToArray(_useState3,2),vatPrice=_useState4[0],setVatPrice=_useState4[1];var _useState5=useState(0.00),_useState6=_slicedToArray(_useState5,2),totalShippingHandlingFees=_useState6[0],setTotalShippingHandlingFees=_useState6[1];var _useState7=useState(0.00),_useState8=_slicedToArray(_useState7,2),totalDiscount=_useState8[0],setTotalDiscount=_useState8[1];var _useState9=useState(0.00),_useState10=_slicedToArray(_useState9,2),netRetailProfit=_useState10[0],setNetRetailProfit=_useState10[1];var _useState11=useState(0.00),_useState12=_slicedToArray(_useState11,2),netWholesaleProfit=_useState12[0],setNetWholesaleProfit=_useState12[1];//list\nvar _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),purchaseList=_useState14[0],setPurchaseList=_useState14[1];//pagination\nvar _useState15=useState(5),_useState16=_slicedToArray(_useState15,2),pageSize=_useState16[0],setPageSize=_useState16[1];var _useState17=useState(1),_useState18=_slicedToArray(_useState17,2),page=_useState18[0],setPage=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),totalPages=_useState20[0],setTotalPages=_useState20[1];var _useState21=useState(1),_useState22=_slicedToArray(_useState21,2),totalItems=_useState22[0],setTotalItems=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),currentPageItemsCount=_useState24[0],setCurrentPageItemsCount=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),offset=_useState26[0],setOffset=_useState26[1];//Date filter\nvar _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),showDateRange=_useState28[0],setShowDateRange=_useState28[1];var selectedDate=new Date();var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),dateValue=_useState30[0],setDateValue=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),fromDateValue=_useState32[0],setFromDateValue=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),toDateValue=_useState34[0],setToDateValue=_useState34[1];//Created At filter\nvar _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),showCreatedAtDateRange=_useState36[0],setShowCreatedAtDateRange=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),createdAtValue=_useState38[0],setCreatedAtValue=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),createdAtFromValue=_useState40[0],setCreatedAtFromValue=_useState40[1];var _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),createdAtToValue=_useState42[0],setCreatedAtToValue=_useState42[1];//Updated At filter\nvar _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),showUpdatedAtDateRange=_useState44[0],setShowUpdatedAtDateRange=_useState44[1];var _useState45=useState(\"\"),_useState46=_slicedToArray(_useState45,2),updatedAtValue=_useState46[0],setUpdatedAtValue=_useState46[1];var _useState47=useState(\"\"),_useState48=_slicedToArray(_useState47,2),updatedAtFromValue=_useState48[0],setUpdatedAtFromValue=_useState48[1];var _useState49=useState(\"\"),_useState50=_slicedToArray(_useState49,2),updatedAtToValue=_useState50[0],setUpdatedAtToValue=_useState50[1];//loader flag\nvar _useState51=useState(false),_useState52=_slicedToArray(_useState51,2),isListLoading=_useState52[0],setIsListLoading=_useState52[1];var _useState53=useState(false),_useState54=_slicedToArray(_useState53,2),isRefreshInProcess=_useState54[0],setIsRefreshInProcess=_useState54[1];//Vendor Auto Suggestion\nvar _useState55=useState([]),_useState56=_slicedToArray(_useState55,2),vendorOptions=_useState56[0],setVendorOptions=_useState56[1];var _useState57=useState([]),_useState58=_slicedToArray(_useState57,2),selectedVendors=_useState58[0],setSelectedVendors=_useState58[1];//Created By User Auto Suggestion\nvar _useState59=useState([]),_useState60=_slicedToArray(_useState59,2),userOptions=_useState60[0],setUserOptions=_useState60[1];var _useState61=useState([]),_useState62=_slicedToArray(_useState61,2),selectedCreatedByUsers=_useState62[0],setSelectedCreatedByUsers=_useState62[1];//Status Auto Suggestion\nvar statusOptions=[{id:\"sent\",name:\"Sent\"},{id:\"pending\",name:\"Pending\"},{id:\"accepted\",name:\"Accepted\"},{id:\"rejected\",name:\"Rejected\"},{id:\"cancelled\",name:\"Cancelled\"},{id:\"deleted\",name:\"Deleted\"}];var _useState63=useState([]),_useState64=_slicedToArray(_useState63,2),selectedStatusList=_useState64[0],setSelectedStatusList=_useState64[1];useEffect(function(){list();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var _useState65=useState([]),_useState66=_slicedToArray(_useState65,2),allPurchases=_useState66[0],setAllPurchases=_useState66[1];var _useState67=useState([]),_useState68=_slicedToArray(_useState67,2),excelData=_useState68[0],setExcelData=_useState68[1];var _useState69=useState(\"Purchase Report\"),_useState70=_slicedToArray(_useState69,2),purchaseReportFileName=_useState70[0],setPurchaseReportFileName=_useState70[1];var _useState71=useState(false),_useState72=_slicedToArray(_useState71,2),fettingAllRecordsInProgress=_useState72[0],setFettingAllRecordsInProgress=_useState72[1];function prepareExcelData(){console.log(\"Inside prepareExcelData()\");var groupedByDate=[];for(var i=0;i<allPurchases.length;i++){var date=format(new Date(allPurchases[i].date),\"dd-MMM-yyyy\");if(!groupedByDate[date]){groupedByDate[date]=[];}groupedByDate[date].push(allPurchases[i]);}console.log(\"groupedByDate:\",groupedByDate);excelData=[{columns:[{title:\"الرقم التسلسلي - S/L No.\",width:{wch:18},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width \n{title:\"تاريخ الفاتورة - Date of Invoice\",width:{wch:25},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width\n{title:\"رقم الفاتورة - Invoice Number\",width:{wch:25},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width\n{title:\"اسم المورد بالعربية - Supplier Name\",width:{wch:30},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width\n{title:\"الرقمالضريبيللمورد - Supplier VAT No\",width:{wch:30},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width\n{title:\"المبلغ قبل الضريبة - Amount Before VAT\",width:{wch:30},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width\n{title:\"تخفيض - Discount\",width:{wch:15},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width\n{title:\"المبلغ بعد الخصم - Amount After Discount\",width:{wch:30},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width\n{title:\"قيمة الضريبة -  VAT Amount\",width:{wch:20},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}},//pixels width\n{title:\"الإجمالي شامل الضريبة - Total Amount after VAT\",width:{wch:35},style:{fill:{patternType:\"solid\",fgColor:{rgb:\"FFCCEEFF\"}},font:{vertAlign:true,bold:true},alignment:{horizontal:\"center\",vertical:\"center\"}}}//pixels width\n/*\n                { title: \"Description\", width: { wch: 50 } },//pixels width  wpx\n                { title: \"Quantity\", width: { wpx: 90 } },//char width  wch\n                { title: \"Unit\", width: { wpx: 90 } },\n                { title: \"Rate\", width: { wpx: 90 } },\n                { title: \"Gross\", width: { wpx: 90 } },\n                { title: \"Disc %\", width: { wpx: 90 } },\n                { title: \"Disc\", width: { wpx: 90 } },\n                { title: \"Tax %\", width: { wpx: 90 } },\n                { title: \"Tax Amount\", width: { wpx: 180 } },\n                { title: \"Net Amount\", width: { wpx: 90 } },\n                */],data:[]}];var totalAmountBeforeVAT=0.00;var totalAmountAfterVAT=0.00;var totalAmountAfterDiscount=0.00;var totalVAT=0.00;var totalDiscount=0.00;var dayTotalBeforeVAT=0.00;var dayTotalAfterVAT=0.00;var dayVAT=0.00;var invoiceCount=0;for(var purchaseDate in groupedByDate){console.log(\"purchaseDate:\",purchaseDate);// excelData[0].data.push([{ value: \"Inv Date: \" + purchaseDate }]);\ndayTotalBeforeVAT=0.00;dayTotalAfterVAT=0.00;dayVAT=0.00;for(var i=0;i<groupedByDate[purchaseDate].length>0;i++){invoiceCount++;var purchase=groupedByDate[purchaseDate][i];var invoiceNo=purchase.vendor_invoice_no?purchase.vendor_invoice_no+\" / \"+purchase.code:purchase.code;var supplierVatNo=\"N/A\";if(purchase.vendor&&purchase.vendor.vat_no){supplierVatNo=purchase.vendor.vat_no;}var amountBeforeVAT=purchase.total+purchase.shipping_handling_fees;var amountAfterDiscount=purchase.total+purchase.shipping_handling_fees-purchase.discount;var amountAfterVAT=purchase.total+purchase.shipping_handling_fees-purchase.discount+purchase.vat_price;totalAmountBeforeVAT+=amountBeforeVAT;totalDiscount+=purchase.discount;totalAmountAfterDiscount+=amountAfterDiscount;totalVAT+=purchase.vat_price;totalAmountAfterVAT+=amountAfterVAT;excelData[0].data.push([{value:invoiceCount,style:{alignment:{horizontal:\"center\"}}},{value:purchaseDate,style:{alignment:{horizontal:\"center\"}}},{value:invoiceNo,style:{alignment:{horizontal:\"center\"}}},{value:purchase.vendor_name},{value:supplierVatNo,style:{alignment:{horizontal:\"center\"}}},{value:amountBeforeVAT.toFixed(2),style:{alignment:{horizontal:\"right\"}}},{value:purchase.discount.toFixed(2),style:{alignment:{horizontal:\"right\"}}},{value:amountAfterDiscount.toFixed(2),style:{alignment:{horizontal:\"right\"}}},{value:purchase.vat_price.toFixed(2),style:{alignment:{horizontal:\"right\"}}},{value:amountAfterVAT.toFixed(2),style:{alignment:{horizontal:\"right\"}}}]);}}excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"TOTAL\",style:{font:{vertAlign:true,bold:true},alignment:{horizontal:\"right\"}}},{value:totalAmountBeforeVAT.toFixed(2),style:{font:{vertAlign:true,bold:true},alignment:{horizontal:\"right\"}}},{value:totalDiscount.toFixed(2),style:{font:{vertAlign:true,bold:true},alignment:{horizontal:\"right\"}}},{value:totalAmountAfterDiscount.toFixed(2),style:{font:{vertAlign:true,bold:true},alignment:{horizontal:\"right\"}}},{value:totalVAT.toFixed(2),style:{font:{vertAlign:true,bold:true},alignment:{horizontal:\"right\"}}},{value:totalAmountAfterVAT.toFixed(2),style:{font:{vertAlign:true,bold:true},alignment:{horizontal:\"right\"}}}]);/*\n        excelData[0].data.push([{ value: \"Inv No (\" + invoiceNo + \") - \" + invoiceCount }]);\n        excelData[0].data.push([{ value: \"Supplier Name: \" + purchase.vendor_name }]);\n        if (purchase.vendor && purchase.vendor.vat_no) {\n            excelData[0].data.push([{ value: \"Supplier VAT No.: \" + purchase.vendor.vat_no }]);\n        } else {\n            excelData[0].data.push([{ value: \"Supplier VAT No.: N/A\" }]);\n        }\n        */ /*\n        if (!purchase.products) {\n            continue;\n        }\n        */ /*\n        for (var j = 0; j < purchase.products.length; j++) {\n     \n            let product = purchase.products[j];\n     \n            excelData[0].data.push([\n                {\n                    value: product.name\n                },\n                {\n                    value: product.quantity.toFixed(2),\n                },\n                {\n                    value: product.unit ? product.unit : \"PCs\",\n                },\n                {\n                    value: product.purchase_unit_price ? product.purchase_unit_price.toFixed(2) : 0.00,\n                },\n                {\n                    value: (product.purchase_unit_price * product.quantity).toFixed(2)\n                },\n                {\n                    value: \"0.00\",\n                },\n                {\n                    value: \"0.00\",\n                },\n                {\n                    value: \"15.00\",\n                },\n                {\n                    value: ((product.purchase_unit_price * product.quantity).toFixed(2) * 0.15).toFixed(2),\n                },\n                {\n                    value: (product.purchase_unit_price * product.quantity).toFixed(2),\n                },\n            ]);\n        }\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Shipping/Handling Fees\",\n            }, {\n                value: purchase.shipping_handling_fees.toFixed(2),\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount Before VAT\",\n            }, {\n                value: (purchase.total + purchase.shipping_handling_fees).toFixed(2),\n            },\n        ]);\n     \n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Discount\",\n            }, {\n                value: purchase.discount.toFixed(2),\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount After Discount\",\n            }, {\n                value: (purchase.total + purchase.shipping_handling_fees - purchase.discount).toFixed(2),\n            },\n        ]);\n     \n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"VAT Amount\",\n            }, {\n                value: purchase.vat_price.toFixed(2),\n            },\n        ]);\n     \n     \n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount After VAT\",\n            }, {\n                value: (purchase.total + purchase.shipping_handling_fees - purchase.discount + purchase.vat_price).toFixed(2),\n            },\n        ]);\n     \n        dayTotalBeforeVAT += (purchase.total + purchase.shipping_handling_fees - purchase.discount);\n        dayTotalAfterVAT += (purchase.total + purchase.shipping_handling_fees - purchase.discount + purchase.vat_price);\n        dayVAT += purchase.vat_price;\n     \n    }\n     \n     \n    excelData[0].data.push([\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        {\n            value: \"Day Total Before VAT\",\n        }, {\n            value: dayTotalBeforeVAT.toFixed(2),\n        },\n    ]);\n     \n    excelData[0].data.push([\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        {\n            value: \"Day VAT\",\n        }, {\n            value: dayVAT.toFixed(2),\n        },\n    ]);\n     \n     \n    excelData[0].data.push([\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        {\n            value: \"Day Total After VAT\",\n        }, {\n            value: dayTotalAfterVAT.toFixed(2),\n        },\n    ]);\n     \n    totalAmountBeforeVAT += dayTotalBeforeVAT;\n    totalAmountAfterVAT += dayTotalAfterVAT;\n    totalVAT += dayVAT;\n     \n     \n    }//end for1\n    */ /*\n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"\",\n            }, {\n                value: \"\",\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount Before VAT\",\n            }, {\n                value: totalAmountBeforeVAT.toFixed(2),\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total VAT\",\n            }, {\n                value: totalVAT.toFixed(2),\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount After VAT\",\n            }, {\n                value: totalAmountAfterVAT.toFixed(2),\n            },\n        ]);\n        */setExcelData(excelData);console.log(\"excelData:\",excelData);}function makePurchaseReportFilename(){purchaseReportFileName=\"Purchase Report\";if(searchParams[\"from_date\"]&&searchParams[\"to_date\"]){purchaseReportFileName+=\" - From \"+searchParams[\"from_date\"]+\" to \"+searchParams[\"to_date\"];}else if(searchParams[\"from_date\"]){purchaseReportFileName+=\" - From \"+searchParams[\"from_date\"]+\" to \"+format(new Date(),\"dd-MMM-yyyy\");}else if(searchParams[\"to_date\"]){purchaseReportFileName+=\" - Upto \"+searchParams[\"to_date\"];}else if(searchParams[\"date_str\"]){purchaseReportFileName+=\" of \"+searchParams[\"date_str\"];}setPurchaseReportFileName(purchaseReportFileName);}function getAllPurchases(){return _getAllPurchases.apply(this,arguments);}//Search params\nfunction _getAllPurchases(){_getAllPurchases=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var requestOptions,Select,d,diff,queryParams,size,purchases,pageNo,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:requestOptions={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:cookies.get(\"access_token\")}};Select=\"select=id,code,vendor_id,vendor.id,vendor.vat_no,vendor_invoice_no,date,total,net_total,shipping_handling_fees,discount_percent,discount,products,vendor_name,created_at,updated_at,vat_price\";if(cookies.get(\"store_id\")){searchParams.store_id=cookies.get(\"store_id\");}d=new Date();diff=d.getTimezoneOffset();console.log(\"Timezone:\",parseFloat(diff/60));searchParams[\"timezone_offset\"]=parseFloat(diff/60);setSearchParams(searchParams);queryParams=ObjectToSearchQueryParams(searchParams);if(queryParams!==\"\"){queryParams=\"&\"+queryParams;}size=500;purchases=[];pageNo=1;makePurchaseReportFilename();case 14:if(!true){_context3.next=26;break;}fettingAllRecordsInProgress=true;setFettingAllRecordsInProgress(true);_context3.next=19;return fetch(\"/v1/purchase?\"+Select+queryParams+\"&sort=\"+sortOrder+sortField+\"&page=\"+pageNo+\"&limit=\"+size,requestOptions).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response){var _response$headers$get2;var isJson,data,error;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:isJson=(_response$headers$get2=response.headers.get(\"content-type\"))===null||_response$headers$get2===void 0?void 0:_response$headers$get2.includes(\"application/json\");_context2.t0=isJson;if(!_context2.t0){_context2.next=6;break;}_context2.next=5;return response.json();case 5:_context2.t0=_context2.sent;case 6:data=_context2.t0;if(response.ok){_context2.next=10;break;}error=data&&data.errors;return _context2.abrupt(\"return\",Promise.reject(error));case 10:setIsListLoading(false);if(!(!data.result||data.result.length===0)){_context2.next=13;break;}return _context2.abrupt(\"return\",[]);case 13:return _context2.abrupt(\"return\",data.result);case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4){return _ref2.apply(this,arguments);};}()).catch(function(error){console.log(error);return[];//break;\n});case 19:res=_context3.sent;if(!(res.length===0)){_context3.next=22;break;}return _context3.abrupt(\"break\",26);case 22:purchases=purchases.concat(res);pageNo++;case 24:_context3.next=14;break;case 26:allPurchases=purchases;setAllPurchases(purchases);console.log(\"allPurchases:\",allPurchases);prepareExcelData();fettingAllRecordsInProgress=false;setFettingAllRecordsInProgress(false);case 32:case\"end\":return _context3.stop();}}},_callee3);}));return _getAllPurchases.apply(this,arguments);}var _useState73=useState({}),_useState74=_slicedToArray(_useState73,2),searchParams=_useState74[0],setSearchParams=_useState74[1];var _useState75=useState(\"created_at\"),_useState76=_slicedToArray(_useState75,2),sortField=_useState76[0],setSortField=_useState76[1];var _useState77=useState(\"-\"),_useState78=_slicedToArray(_useState77,2),sortOrder=_useState78[0],setSortOrder=_useState78[1];function ObjectToSearchQueryParams(object){return Object.keys(object).map(function(key){return\"search[\".concat(key,\"]=\").concat(object[key]);}).join(\"&\");}function suggestVendors(_x){return _suggestVendors.apply(this,arguments);}function _suggestVendors(){_suggestVendors=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(searchTerm){var params,queryString,requestOptions,Select,result,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(\"Inside handle suggestVendors\");params={name:searchTerm};queryString=ObjectToSearchQueryParams(params);if(queryString!==\"\"){queryString=\"&\".concat(queryString);}requestOptions={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:cookies.get(\"access_token\")}};Select=\"select=id,name,phone,name_in_arabic,phone_in_arabic,search_label\";_context4.next=8;return fetch(\"/v1/vendor?\".concat(Select).concat(queryString),requestOptions);case 8:result=_context4.sent;_context4.next=11;return result.json();case 11:data=_context4.sent;setVendorOptions(data.result);case 13:case\"end\":return _context4.stop();}}},_callee4);}));return _suggestVendors.apply(this,arguments);}function suggestUsers(_x2){return _suggestUsers.apply(this,arguments);}function _suggestUsers(){_suggestUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(searchTerm){var params,queryString,requestOptions,Select,result,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log(\"Inside handle suggestUsers\");setVendorOptions([]);console.log(\"searchTerm:\"+searchTerm);if(searchTerm){_context5.next=5;break;}return _context5.abrupt(\"return\");case 5:params={name:searchTerm};queryString=ObjectToSearchQueryParams(params);if(queryString!==\"\"){queryString=\"&\"+queryString;}requestOptions={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:cookies.get(\"access_token\")}};Select=\"select=id,name\";_context5.next=12;return fetch(\"/v1/user?\"+Select+queryString,requestOptions);case 12:result=_context5.sent;_context5.next=15;return result.json();case 15:data=_context5.sent;setUserOptions(data.result);case 17:case\"end\":return _context5.stop();}}},_callee5);}));return _suggestUsers.apply(this,arguments);}function searchByFieldValue(field,value){searchParams[field]=value;page=1;setPage(page);list();}function searchByDateField(field,value){if(!value){page=1;searchParams[field]=\"\";setPage(page);list();return;}var d=new Date(value);d=new Date(d.toUTCString());value=format(d,\"MMM dd yyyy\");if(field===\"date_str\"){setDateValue(value);setFromDateValue(\"\");setToDateValue(\"\");searchParams[\"from_date\"]=\"\";searchParams[\"to_date\"]=\"\";searchParams[field]=value;}else if(field===\"from_date\"){setFromDateValue(value);setDateValue(\"\");searchParams[\"date\"]=\"\";searchParams[field]=value;}else if(field===\"to_date\"){setToDateValue(value);setDateValue(\"\");searchParams[\"date\"]=\"\";searchParams[field]=value;}else if(field===\"created_at\"){setCreatedAtValue(value);setCreatedAtFromValue(\"\");setCreatedAtToValue(\"\");searchParams[\"created_at_from\"]=\"\";searchParams[\"created_at_to\"]=\"\";searchParams[field]=value;}else if(field===\"updated_at\"){setUpdatedAtValue(value);setUpdatedAtFromValue(\"\");setUpdatedAtToValue(\"\");searchParams[\"updated_at_from\"]=\"\";searchParams[\"updated_at_to\"]=\"\";searchParams[field]=value;}if(field===\"created_at_from\"){setCreatedAtFromValue(value);setCreatedAtValue(\"\");searchParams[\"created_at\"]=\"\";searchParams[field]=value;}else if(field===\"created_at_to\"){setCreatedAtToValue(value);setCreatedAtValue(\"\");searchParams[\"created_at\"]=\"\";searchParams[field]=value;}if(field===\"updated_at_from\"){setUpdatedAtFromValue(value);setUpdatedAtValue(\"\");searchParams[\"updated_at\"]=\"\";searchParams[field]=value;}else if(field===\"updated_at_to\"){setUpdatedAtToValue(value);setUpdatedAtValue(\"\");searchParams[\"updated_at\"]=\"\";searchParams[field]=value;}page=1;setPage(page);list();}function searchByMultipleValuesField(field,values){if(field===\"created_by\"){setSelectedCreatedByUsers(values);}else if(field===\"vendor_id\"){setSelectedVendors(values);}else if(field===\"status\"){setSelectedStatusList(values);}searchParams[field]=Object.values(values).map(function(model){return model.id;}).join(\",\");page=1;setPage(page);list();}function list(){excelData=[];setExcelData(excelData);var requestOptions={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:cookies.get(\"access_token\")}};var Select=\"select=id,code,date,net_total,discount,vat_price,total,store_id,created_by_name,vendor_name,vendor_invoice_no,status,created_at,updated_at,net_retail_profit,net_wholesale_profit\";if(cookies.get(\"store_id\")){searchParams.store_id=cookies.get(\"store_id\");}var d=new Date();var diff=d.getTimezoneOffset();searchParams[\"timezone_offset\"]=parseFloat(diff/60);setSearchParams(searchParams);var queryParams=ObjectToSearchQueryParams(searchParams);if(queryParams!==\"\"){queryParams=\"&\"+queryParams;}setIsListLoading(true);fetch(\"/v1/purchase?\"+Select+queryParams+\"&sort=\"+sortOrder+sortField+\"&page=\"+page+\"&limit=\"+pageSize,requestOptions).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var _response$headers$get;var isJson,data,error,pageCount;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:isJson=(_response$headers$get=response.headers.get(\"content-type\"))===null||_response$headers$get===void 0?void 0:_response$headers$get.includes(\"application/json\");_context.t0=isJson;if(!_context.t0){_context.next=6;break;}_context.next=5;return response.json();case 5:_context.t0=_context.sent;case 6:data=_context.t0;if(response.ok){_context.next=10;break;}error=data&&data.errors;return _context.abrupt(\"return\",Promise.reject(error));case 10:setIsListLoading(false);setIsRefreshInProcess(false);setPurchaseList(data.result);pageCount=parseInt((data.total_count+pageSize-1)/pageSize);setTotalPages(pageCount);setTotalItems(data.total_count);setOffset((page-1)*pageSize);setCurrentPageItemsCount(data.result.length);totalPurchase=data.meta.total_purchase;setTotalPurchase(totalPurchase);vatPrice=data.meta.vat_price;setVatPrice(vatPrice);totalShippingHandlingFees=data.meta.shipping_handling_fees;setTotalShippingHandlingFees(totalShippingHandlingFees);totalDiscount=data.meta.discount;setTotalDiscount(totalDiscount);netRetailProfit=data.meta.net_retail_profit;setNetRetailProfit(netRetailProfit);netWholesaleProfit=data.meta.net_wholesale_profit;setNetWholesaleProfit(netWholesaleProfit);case 30:case\"end\":return _context.stop();}}},_callee);}));return function(_x3){return _ref.apply(this,arguments);};}()).catch(function(error){setIsListLoading(false);setIsRefreshInProcess(false);console.log(error);});}function sort(field){sortField=field;setSortField(sortField);sortOrder=sortOrder===\"-\"?\"\":\"-\";setSortOrder(sortOrder);list();}function changePageSize(size){pageSize=parseInt(size);setPageSize(pageSize);list();}function changePage(newPage){page=parseInt(newPage);setPage(page);list();}function openUpdateForm(id){CreateFormRef.current.open(id);}var DetailsViewRef=useRef();function openDetailsView(id){DetailsViewRef.current.open(id);}var CreateFormRef=useRef();function openCreateForm(){CreateFormRef.current.open();}var PurchaseReturnCreateRef=useRef();function openPurchaseReturnForm(id){PurchaseReturnCreateRef.current.open(undefined,id);}var PurchaseCashDiscountCreateRef=useRef();function openPurchaseCashDiscountCreateForm(order){PurchaseCashDiscountCreateRef.current.open(undefined,order);}var PurchaseCashDiscountDetailsViewRef=useRef();function openPurchaseCashDiscountDetailsView(id){PurchaseCashDiscountDetailsViewRef.current.open(id);}function openPurchaseCashDiscountUpdateForm(id){PurchaseCashDiscountCreateRef.current.open(id);}//Purchase Payments\nvar PurchasePaymentCreateRef=useRef();function openPurchasePaymentCreateForm(purchase){PurchasePaymentCreateRef.current.open(undefined,purchase);}var PurchasePaymentDetailsViewRef=useRef();function openPurchasePaymentDetailsView(id){PurchasePaymentDetailsViewRef.current.open(id);}function openPurchasePaymentUpdateForm(id){PurchasePaymentCreateRef.current.open(id);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PurchaseCreate,{ref:CreateFormRef,refreshList:list,showToastMessage:props.showToastMessage,openDetailsView:openDetailsView}),/*#__PURE__*/_jsx(PurchaseView,{ref:DetailsViewRef,openUpdateForm:openUpdateForm,openCreateForm:openCreateForm}),/*#__PURE__*/_jsx(PurchaseReturnCreate,{ref:PurchaseReturnCreateRef,showToastMessage:props.showToastMessage}),/*#__PURE__*/_jsx(PurchaseCashDiscountCreate,{ref:PurchaseCashDiscountCreateRef,showToastMessage:props.showToastMessage,openDetailsView:openPurchaseCashDiscountDetailsView}),/*#__PURE__*/_jsx(PurchaseCashDiscountDetailsView,{ref:PurchaseCashDiscountDetailsViewRef,openUpdateForm:openPurchaseCashDiscountUpdateForm,showToastMessage:props.showToastMessage}),/*#__PURE__*/_jsx(PurchasePaymentCreate,{ref:PurchasePaymentCreateRef,showToastMessage:props.showToastMessage,openDetailsView:openPurchasePaymentDetailsView}),/*#__PURE__*/_jsx(PurchasePaymentDetailsView,{ref:PurchasePaymentDetailsViewRef,openUpdateForm:openPurchasePaymentUpdateForm,showToastMessage:props.showToastMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Purchases: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalPurchase,displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Discounts: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalDiscount.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Shipping/Handling fees: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalShippingHandlingFees.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"VAT paid: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:vatPrice.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})})]}),cookies.get('admin')===\"true\"?/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Expected Net Retail Profit: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:netRetailProfit,displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})})]}):\"\",cookies.get('admin')===\"true\"?/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Expected Net Wholesale Profit: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:netWholesaleProfit,displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})})]}):\"\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"h3\",children:\"Purchases\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col text-end\",children:[/*#__PURE__*/_jsx(ExcelFile,{filename:purchaseReportFileName,element:excelData.length>0?/*#__PURE__*/_jsx(Button,{variant:\"success\",className:\"btn btn-primary mb-3 success\",children:\"Download Purchase Report\"}):\"\",children:/*#__PURE__*/_jsx(ExcelSheet,{dataSet:excelData,name:purchaseReportFileName})}),excelData.length==0?/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btn btn-primary mb-3\",onClick:getAllPurchases,children:fettingAllRecordsInProgress?\"Preparing..\":\"Purchase Report\"}):\"\",\"\\xA0\\xA0\",/*#__PURE__*/_jsxs(Button,{hide:true.toString(),variant:\"primary\",className:\"btn btn-primary mb-3\",onClick:openCreateForm,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-lg\"}),\" Create\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:totalItems===0&&/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-start\",children:\"No Purchases to display\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{border:\"solid 0px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col text-start\",style:{border:\"solid 0px\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){setIsRefreshInProcess(true);list();},variant:\"primary\",disabled:isRefreshInProcess,children:[isRefreshInProcess?/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":true}):/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-refresh\"}),/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-center\",children:isListLoading&&/*#__PURE__*/_jsx(Spinner,{animation:\"grow\",variant:\"primary\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-end\",children:totalItems>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Size:\\xA0\"}),/*#__PURE__*/_jsxs(\"select\",{value:pageSize,onChange:function onChange(e){changePageSize(e.target.value);},className:\"form-control pull-right\",style:{border:\"solid 1px\",borderColor:\"silver\",width:\"55px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"20\",children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:\"40\",children:\"40\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"100\"})]})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",style:{border:\"solid 0px\"},children:totalPages?/*#__PURE__*/_jsx(ReactPaginate,{breakLabel:\"...\",nextLabel:\"next >\",onPageChange:function onPageChange(event){changePage(event.selected+1);},pageRangeDisplayed:5,pageCount:totalPages,previousLabel:\"< previous\",renderOnZeroPageCount:null,className:\"pagination\",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",activeClassName:\"active\",previousClassName:\"page-item\",nextClassName:\"page-item\",previousLinkClassName:\"page-link\",nextLinkClassName:\"page-link\",forcePage:page-1}):\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:totalItems>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col text-start\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-start\",children:[\"showing \",offset+1,\"-\",offset+currentPageItemsCount,\" of\",\" \",totalItems]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-end\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-end\",children:[\"page \",page,\" of \",totalPages]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",style:{overflowX:\"auto\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-sm table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"code\");},children:[\"ID\",sortField===\"code\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"code\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"vendor_invoice_no\");},children:[\"Vendor Invoice No.\",sortField===\"vendor_invoice_no\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"vendor_invoice_no\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"vendor_name\");},children:[\"Vendor\",sortField===\"vendor_name\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"vendor_name\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"date\");},children:[\"Date\",sortField===\"date\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-down\"}):null,sortField===\"date\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"net_total\");},children:[\"Net Total\",sortField===\"net_total\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"net_total\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"discount\");},children:[\"Discount\",sortField===\"discount\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"discount\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"vat_price\");},children:[\"VAT\",sortField===\"vat_price\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"vat_price\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"retail_profit\");},children:[\"Expected Net Retail Profit\",sortField===\"net_retail_profit\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"net_retail_profit\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}):\"\",cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"wholesale_profit\");},children:[\"Expected Net Wholesale Profit\",sortField===\"net_wholesale_profit\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"net_wholesale_profit\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}):\"\",/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"created_by\");},children:[\"Created By\",sortField===\"created_by\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"created_by\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"status\");},children:[\"Status\",sortField===\"status\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"status\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"created_at\");},children:[\"Created At\",sortField===\"created_at\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-down\"}):null,sortField===\"created_at\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"updated_at\");},children:[\"Updated At\",sortField===\"updated_at\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-down\"}):null,sortField===\"updated_at\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"code\",onChange:function onChange(e){return searchByFieldValue(\"code\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"vendor_invoice_no\",onChange:function onChange(e){return searchByFieldValue(\"vendor_invoice_no\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Typeahead,{id:\"vendor_id\",labelKey:\"search_label\",onChange:function onChange(selectedItems){searchByMultipleValuesField(\"vendor_id\",selectedItems);},options:vendorOptions,placeholder:\"name or mob\",selected:selectedVendors,highlightOnlyResult:true,onInputChange:function onInputChange(searchTerm,e){suggestVendors(searchTerm);},multiple:true})}),/*#__PURE__*/_jsxs(\"th\",{children:[/*#__PURE__*/_jsx(DatePicker,{id:\"date_str\",value:dateValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setDateValue(\"\");searchByDateField(\"date_str\",\"\");return;}searchByDateField(\"date_str\",date);}}),/*#__PURE__*/_jsx(\"small\",{style:{color:\"blue\",textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(e){return setShowDateRange(!showDateRange);},children:showDateRange?\"Less..\":\"More..\"}),/*#__PURE__*/_jsx(\"br\",{}),showDateRange?/*#__PURE__*/_jsxs(\"span\",{className:\"text-left\",children:[\"From:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"from_date\",value:fromDateValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setFromDateValue(\"\");searchByDateField(\"from_date\",\"\");return;}searchByDateField(\"from_date\",date);}}),\"To:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"to_date\",value:toDateValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setToDateValue(\"\");searchByDateField(\"to_date\",\"\");return;}searchByDateField(\"to_date\",date);}})]}):null]}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"net_total\",onChange:function onChange(e){return searchByFieldValue(\"net_total\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"discount\",onChange:function onChange(e){return searchByFieldValue(\"discount\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"vat_price\",onChange:function onChange(e){return searchByFieldValue(\"vat_price\",e.target.value);},className:\"form-control\"})}),cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"net_retail_profit\",onChange:function onChange(e){return searchByFieldValue(\"net_retail_profit\",e.target.value);},className:\"form-control\"})}):\"\",cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"net_wholesale_profit\",onChange:function onChange(e){return searchByFieldValue(\"net_wholesale_profit\",e.target.value);},className:\"form-control\"})}):\"\",/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Typeahead,{id:\"created_by\",labelKey:\"name\",onChange:function onChange(selectedItems){searchByMultipleValuesField(\"created_by\",selectedItems);},options:userOptions,placeholder:\"Select Users\",selected:selectedCreatedByUsers,highlightOnlyResult:true,onInputChange:function onInputChange(searchTerm,e){suggestUsers(searchTerm);},multiple:true})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Typeahead,{id:\"status\",labelKey:\"name\",onChange:function onChange(selectedItems){searchByMultipleValuesField(\"status\",selectedItems);},options:statusOptions,placeholder:\"Select Status\",selected:selectedStatusList,highlightOnlyResult:true,multiple:true})}),/*#__PURE__*/_jsxs(\"th\",{children:[/*#__PURE__*/_jsx(DatePicker,{id:\"created_at\",value:createdAtValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setCreatedAtValue(\"\");searchByDateField(\"created_at\",\"\");return;}searchByDateField(\"created_at\",date);}}),/*#__PURE__*/_jsx(\"small\",{style:{color:\"blue\",textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(e){return setShowCreatedAtDateRange(!showCreatedAtDateRange);},children:showCreatedAtDateRange?\"Less..\":\"More..\"}),/*#__PURE__*/_jsx(\"br\",{}),showCreatedAtDateRange?/*#__PURE__*/_jsxs(\"span\",{className:\"text-left\",children:[\"From:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"created_at_from\",value:createdAtFromValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setCreatedAtFromValue(\"\");searchByDateField(\"created_at_from\",\"\");return;}searchByDateField(\"created_at_from\",date);}}),\"To:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"created_at_to\",value:createdAtToValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setCreatedAtToValue(\"\");searchByDateField(\"created_at_to\",\"\");return;}searchByDateField(\"created_at_to\",date);}})]}):null]}),/*#__PURE__*/_jsxs(\"th\",{children:[/*#__PURE__*/_jsx(DatePicker,{id:\"updated_at\",value:updatedAtValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setUpdatedAtValue(\"\");searchByDateField(\"updated_at\",\"\");return;}searchByDateField(\"updated_at\",date);}}),/*#__PURE__*/_jsx(\"small\",{style:{color:\"blue\",textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(e){return setShowUpdatedAtDateRange(!showUpdatedAtDateRange);},children:showUpdatedAtDateRange?\"Less..\":\"More..\"}),/*#__PURE__*/_jsx(\"br\",{}),showUpdatedAtDateRange?/*#__PURE__*/_jsxs(\"span\",{className:\"text-left\",children:[\"From:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"updated_at_from\",value:updatedAtFromValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setUpdatedAtFromValue(\"\");searchByDateField(\"updated_at_from\",\"\");return;}searchByDateField(\"updated_at_from\",date);}}),\"To:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"updated_at_to\",value:updatedAtToValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setUpdatedAtToValue(\"\");searchByDateField(\"updated_at_to\",\"\");return;}searchByDateField(\"updated_at_to\",date);}})]}):null]}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"text-center\",children:purchaseList&&purchaseList.map(function(purchase){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:purchase.code}),/*#__PURE__*/_jsx(\"td\",{children:purchase.vendor_invoice_no}),/*#__PURE__*/_jsx(\"td\",{children:purchase.vendor_name}),/*#__PURE__*/_jsx(\"td\",{children:format(new Date(purchase.date),\"MMM dd yyyy h:mma\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(NumberFormat,{value:purchase.net_total,displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(NumberFormat,{value:purchase.discount,displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(NumberFormat,{value:purchase.vat_price,displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})}),cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(NumberFormat,{value:purchase.net_retail_profit,displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})}):\"\",cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(NumberFormat,{value:purchase.net_wholesale_profit,displayType:\"text\",thousandSeparator:true,suffix:\" SAR\",renderText:function renderText(value,props){return value;}})}):\"\",/*#__PURE__*/_jsx(\"td\",{children:purchase.created_by_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-success\",children:purchase.status})}),/*#__PURE__*/_jsx(\"td\",{children:format(new Date(purchase.created_at),\"MMM dd yyyy h:mma\")}),/*#__PURE__*/_jsx(\"td\",{children:purchase.updated_at?format(new Date(purchase.updated_at),\"MMM dd yyyy h:mma\"):\"\"}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{className:\"btn btn-light btn-sm\",onClick:function onClick(){openUpdateForm(purchase.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil\"})}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-primary btn-sm\",onClick:function onClick(){openDetailsView(purchase.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-eye\"})}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-dark btn-sm\",\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"top\",title:\"Create Purchase Return\",onClick:function onClick(){openPurchaseReturnForm(purchase.id);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left\"}),\" Return\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-default btn-sm\",\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"top\",title:\"Download\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-download\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary dropdown-toggle\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:function onClick(){openPurchaseCashDiscountCreateForm(purchase);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus\"}),\"\\xA0 Add Cash Discount\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:function onClick(){openPurchasePaymentCreateForm(purchase);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus\"}),\"\\xA0 Add Payment\"]})})]})]})]},purchase.code);})})]})}),totalPages?/*#__PURE__*/_jsx(ReactPaginate,{breakLabel:\"...\",nextLabel:\"next >\",onPageChange:function onPageChange(event){changePage(event.selected+1);},pageRangeDisplayed:5,pageCount:totalPages,previousLabel:\"< previous\",renderOnZeroPageCount:null,className:\"pagination\",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",activeClassName:\"active\",previousClassName:\"page-item\",nextClassName:\"page-item\",previousLinkClassName:\"page-link\",nextLinkClassName:\"page-link\",forcePage:page-1}):\"\"]})})})})]})]});}export default PurchaseIndex;","map":{"version":3,"sources":["/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/src/purchase/index.js"],"names":["React","useState","useEffect","useRef","PurchaseCreate","PurchaseView","Cookies","Typeahead","format","DatePicker","Button","Spinner","Badge","ReactPaginate","PurchaseReturnCreate","NumberFormat","PurchaseCashDiscountCreate","PurchaseCashDiscountDetailsView","PurchasePaymentCreate","PurchasePaymentDetailsView","ReactExport","ExcelFile","ExcelSheet","PurchaseIndex","props","cookies","totalPurchase","setTotalPurchase","vatPrice","setVatPrice","totalShippingHandlingFees","setTotalShippingHandlingFees","totalDiscount","setTotalDiscount","netRetailProfit","setNetRetailProfit","netWholesaleProfit","setNetWholesaleProfit","purchaseList","setPurchaseList","pageSize","setPageSize","page","setPage","totalPages","setTotalPages","totalItems","setTotalItems","currentPageItemsCount","setCurrentPageItemsCount","offset","setOffset","showDateRange","setShowDateRange","selectedDate","Date","dateValue","setDateValue","fromDateValue","setFromDateValue","toDateValue","setToDateValue","showCreatedAtDateRange","setShowCreatedAtDateRange","createdAtValue","setCreatedAtValue","createdAtFromValue","setCreatedAtFromValue","createdAtToValue","setCreatedAtToValue","showUpdatedAtDateRange","setShowUpdatedAtDateRange","updatedAtValue","setUpdatedAtValue","updatedAtFromValue","setUpdatedAtFromValue","updatedAtToValue","setUpdatedAtToValue","isListLoading","setIsListLoading","isRefreshInProcess","setIsRefreshInProcess","vendorOptions","setVendorOptions","selectedVendors","setSelectedVendors","userOptions","setUserOptions","selectedCreatedByUsers","setSelectedCreatedByUsers","statusOptions","id","name","selectedStatusList","setSelectedStatusList","list","allPurchases","setAllPurchases","excelData","setExcelData","purchaseReportFileName","setPurchaseReportFileName","fettingAllRecordsInProgress","setFettingAllRecordsInProgress","prepareExcelData","console","log","groupedByDate","i","length","date","push","columns","title","width","wch","style","fill","patternType","fgColor","rgb","font","vertAlign","bold","alignment","horizontal","vertical","data","totalAmountBeforeVAT","totalAmountAfterVAT","totalAmountAfterDiscount","totalVAT","dayTotalBeforeVAT","dayTotalAfterVAT","dayVAT","invoiceCount","purchaseDate","purchase","invoiceNo","vendor_invoice_no","code","supplierVatNo","vendor","vat_no","amountBeforeVAT","total","shipping_handling_fees","amountAfterDiscount","discount","amountAfterVAT","vat_price","value","vendor_name","toFixed","makePurchaseReportFilename","searchParams","getAllPurchases","requestOptions","method","headers","Authorization","get","Select","store_id","d","diff","getTimezoneOffset","parseFloat","setSearchParams","queryParams","ObjectToSearchQueryParams","size","purchases","pageNo","fetch","sortOrder","sortField","then","response","isJson","includes","json","ok","error","errors","Promise","reject","result","catch","res","concat","setSortField","setSortOrder","object","Object","keys","map","key","join","suggestVendors","searchTerm","params","queryString","suggestUsers","searchByFieldValue","field","searchByDateField","toUTCString","searchByMultipleValuesField","values","model","pageCount","parseInt","total_count","meta","total_purchase","net_retail_profit","net_wholesale_profit","sort","changePageSize","changePage","newPage","openUpdateForm","CreateFormRef","current","open","DetailsViewRef","openDetailsView","openCreateForm","PurchaseReturnCreateRef","openPurchaseReturnForm","undefined","PurchaseCashDiscountCreateRef","openPurchaseCashDiscountCreateForm","order","PurchaseCashDiscountDetailsViewRef","openPurchaseCashDiscountDetailsView","openPurchaseCashDiscountUpdateForm","PurchasePaymentCreateRef","openPurchasePaymentCreateForm","PurchasePaymentDetailsViewRef","openPurchasePaymentDetailsView","openPurchasePaymentUpdateForm","showToastMessage","toString","border","e","target","borderColor","event","selected","overflowX","textDecoration","cursor","selectedItems","color","net_total","created_by_name","status","created_at","updated_at"],"mappings":"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A1IgC,CA4IxB;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MArVgC,CAuVxB;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport PurchaseCreate from \"./create.js\";\nimport PurchaseView from \"./view.js\";\nimport Cookies from \"universal-cookie\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\nimport { format } from \"date-fns\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Button, Spinner, Badge } from \"react-bootstrap\";\nimport ReactPaginate from \"react-paginate\";\nimport PurchaseReturnCreate from \"./../purchase_return/create.js\";\nimport NumberFormat from \"react-number-format\";\n\nimport PurchaseCashDiscountCreate from \"./../purchase_cash_discount/create.js\";\nimport PurchaseCashDiscountDetailsView from \"./../purchase_cash_discount/view.js\";\n\nimport PurchasePaymentCreate from \"./../purchase_payment/create.js\";\nimport PurchasePaymentDetailsView from \"./../purchase_payment/view.js\";\n\n\nimport ReactExport from 'react-data-export';\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\n\nfunction PurchaseIndex(props) {\n    const cookies = new Cookies();\n\n    let [totalPurchase, setTotalPurchase] = useState(0.00);\n    let [vatPrice, setVatPrice] = useState(0.00);\n    let [totalShippingHandlingFees, setTotalShippingHandlingFees] = useState(0.00);\n    let [totalDiscount, setTotalDiscount] = useState(0.00);\n    let [netRetailProfit, setNetRetailProfit] = useState(0.00);\n    let [netWholesaleProfit, setNetWholesaleProfit] = useState(0.00);\n\n    //list\n    const [purchaseList, setPurchaseList] = useState([]);\n\n    //pagination\n    let [pageSize, setPageSize] = useState(5);\n    let [page, setPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(0);\n    const [totalItems, setTotalItems] = useState(1);\n    const [currentPageItemsCount, setCurrentPageItemsCount] = useState(0);\n    const [offset, setOffset] = useState(0);\n\n    //Date filter\n    const [showDateRange, setShowDateRange] = useState(false);\n    const selectedDate = new Date();\n    const [dateValue, setDateValue] = useState(\"\");\n    const [fromDateValue, setFromDateValue] = useState(\"\");\n    const [toDateValue, setToDateValue] = useState(\"\");\n\n    //Created At filter\n    const [showCreatedAtDateRange, setShowCreatedAtDateRange] = useState(false);\n    const [createdAtValue, setCreatedAtValue] = useState(\"\");\n    const [createdAtFromValue, setCreatedAtFromValue] = useState(\"\");\n    const [createdAtToValue, setCreatedAtToValue] = useState(\"\");\n\n    //Updated At filter\n    const [showUpdatedAtDateRange, setShowUpdatedAtDateRange] = useState(false);\n    const [updatedAtValue, setUpdatedAtValue] = useState(\"\");\n    const [updatedAtFromValue, setUpdatedAtFromValue] = useState(\"\");\n    const [updatedAtToValue, setUpdatedAtToValue] = useState(\"\");\n\n    //loader flag\n    const [isListLoading, setIsListLoading] = useState(false);\n    const [isRefreshInProcess, setIsRefreshInProcess] = useState(false);\n\n    //Vendor Auto Suggestion\n    const [vendorOptions, setVendorOptions] = useState([]);\n    const [selectedVendors, setSelectedVendors] = useState([]);\n\n    //Created By User Auto Suggestion\n    const [userOptions, setUserOptions] = useState([]);\n    const [selectedCreatedByUsers, setSelectedCreatedByUsers] = useState([]);\n\n    //Status Auto Suggestion\n    const statusOptions = [\n        {\n            id: \"sent\",\n            name: \"Sent\",\n        },\n        {\n            id: \"pending\",\n            name: \"Pending\",\n        },\n        {\n            id: \"accepted\",\n            name: \"Accepted\",\n        },\n        {\n            id: \"rejected\",\n            name: \"Rejected\",\n        },\n        {\n            id: \"cancelled\",\n            name: \"Cancelled\",\n        },\n        {\n            id: \"deleted\",\n            name: \"Deleted\",\n        },\n    ];\n\n    const [selectedStatusList, setSelectedStatusList] = useState([]);\n\n    useEffect(() => {\n        list();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n\n    let [allPurchases, setAllPurchases] = useState([]);\n    let [excelData, setExcelData] = useState([]);\n    let [purchaseReportFileName, setPurchaseReportFileName] = useState(\"Purchase Report\");\n    let [fettingAllRecordsInProgress, setFettingAllRecordsInProgress] = useState(false);\n\n    function prepareExcelData() {\n        console.log(\"Inside prepareExcelData()\");\n        var groupedByDate = [];\n        for (var i = 0; i < allPurchases.length; i++) {\n            let date = format(\n                new Date(allPurchases[i].date),\n                \"dd-MMM-yyyy\"\n            );\n            if (!groupedByDate[date]) {\n                groupedByDate[date] = [];\n            }\n\n            groupedByDate[date].push(allPurchases[i]);\n\n        }\n\n        console.log(\"groupedByDate:\", groupedByDate);\n\n        excelData = [{\n            columns: [\n                { title: \"الرقم التسلسلي - S/L No.\", width: { wch: 18 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width \n                { title: \"تاريخ الفاتورة - Date of Invoice\", width: { wch: 25 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                { title: \"رقم الفاتورة - Invoice Number\", width: { wch: 25 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                { title: \"اسم المورد بالعربية - Supplier Name\", width: { wch: 30 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                { title: \"الرقمالضريبيللمورد - Supplier VAT No\", width: { wch: 30 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                { title: \"المبلغ قبل الضريبة - Amount Before VAT\", width: { wch: 30 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                { title: \"تخفيض - Discount\", width: { wch: 15 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                { title: \"المبلغ بعد الخصم - Amount After Discount\", width: { wch: 30 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                { title: \"قيمة الضريبة -  VAT Amount\", width: { wch: 20 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                { title: \"الإجمالي شامل الضريبة - Total Amount after VAT\", width: { wch: 35 }, style: { fill: { patternType: \"solid\", fgColor: { rgb: \"FFCCEEFF\" } }, font: { vertAlign: true, bold: true }, alignment: { horizontal: \"center\", vertical: \"center\" } } },//pixels width\n                /*\n                { title: \"Description\", width: { wch: 50 } },//pixels width  wpx\n                { title: \"Quantity\", width: { wpx: 90 } },//char width  wch\n                { title: \"Unit\", width: { wpx: 90 } },\n                { title: \"Rate\", width: { wpx: 90 } },\n                { title: \"Gross\", width: { wpx: 90 } },\n                { title: \"Disc %\", width: { wpx: 90 } },\n                { title: \"Disc\", width: { wpx: 90 } },\n                { title: \"Tax %\", width: { wpx: 90 } },\n                { title: \"Tax Amount\", width: { wpx: 180 } },\n                { title: \"Net Amount\", width: { wpx: 90 } },\n                */\n            ],\n            data: [],\n        }];\n\n\n        var totalAmountBeforeVAT = 0.00;\n        var totalAmountAfterVAT = 0.00;\n        var totalAmountAfterDiscount = 0.00;\n        var totalVAT = 0.00;\n        var totalDiscount = 0.00;\n        var dayTotalBeforeVAT = 0.00;\n        var dayTotalAfterVAT = 0.00;\n        var dayVAT = 0.00;\n\n        let invoiceCount = 0;\n        for (let purchaseDate in groupedByDate) {\n\n            console.log(\"purchaseDate:\", purchaseDate);\n            // excelData[0].data.push([{ value: \"Inv Date: \" + purchaseDate }]);\n            dayTotalBeforeVAT = 0.00;\n            dayTotalAfterVAT = 0.00;\n            dayVAT = 0.00;\n\n            for (var i = 0; i < groupedByDate[purchaseDate].length > 0; i++) {\n                invoiceCount++;\n                let purchase = groupedByDate[purchaseDate][i];\n                let invoiceNo = purchase.vendor_invoice_no ? purchase.vendor_invoice_no + \" / \" + purchase.code : purchase.code;\n                let supplierVatNo = \"N/A\";\n                if (purchase.vendor && purchase.vendor.vat_no) {\n                    supplierVatNo = purchase.vendor.vat_no;\n                }\n\n                let amountBeforeVAT = (purchase.total + purchase.shipping_handling_fees);\n                let amountAfterDiscount = (purchase.total + purchase.shipping_handling_fees - purchase.discount);\n                let amountAfterVAT = (purchase.total + purchase.shipping_handling_fees - purchase.discount + purchase.vat_price);\n\n                totalAmountBeforeVAT += amountBeforeVAT;\n                totalDiscount += purchase.discount;\n                totalAmountAfterDiscount += amountAfterDiscount;\n                totalVAT += purchase.vat_price;\n                totalAmountAfterVAT += amountAfterVAT;\n\n                excelData[0].data.push([\n                    { value: invoiceCount, style: { alignment: { horizontal: \"center\" } } },\n                    { value: purchaseDate, style: { alignment: { horizontal: \"center\" } } },\n                    { value: invoiceNo, style: { alignment: { horizontal: \"center\" } } },\n                    { value: purchase.vendor_name },\n                    { value: supplierVatNo, style: { alignment: { horizontal: \"center\" } } },\n                    { value: amountBeforeVAT.toFixed(2), style: { alignment: { horizontal: \"right\" } } },\n                    { value: purchase.discount.toFixed(2), style: { alignment: { horizontal: \"right\" } } },\n                    { value: amountAfterDiscount.toFixed(2), style: { alignment: { horizontal: \"right\" } } },\n                    { value: purchase.vat_price.toFixed(2), style: { alignment: { horizontal: \"right\" } } },\n                    { value: amountAfterVAT.toFixed(2), style: { alignment: { horizontal: \"right\" } } },\n                ]);\n            }\n        }\n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n        ]);\n\n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"TOTAL\", style: { font: { vertAlign: true, bold: true }, alignment: { horizontal: \"right\" } } },\n            { value: totalAmountBeforeVAT.toFixed(2), style: { font: { vertAlign: true, bold: true }, alignment: { horizontal: \"right\" } } },\n            { value: totalDiscount.toFixed(2), style: { font: { vertAlign: true, bold: true }, alignment: { horizontal: \"right\" } } },\n            { value: totalAmountAfterDiscount.toFixed(2), style: { font: { vertAlign: true, bold: true }, alignment: { horizontal: \"right\" } } },\n            { value: totalVAT.toFixed(2), style: { font: { vertAlign: true, bold: true }, alignment: { horizontal: \"right\" } } },\n            { value: totalAmountAfterVAT.toFixed(2), style: { font: { vertAlign: true, bold: true }, alignment: { horizontal: \"right\" } } },\n        ]);\n        /*\n        excelData[0].data.push([{ value: \"Inv No (\" + invoiceNo + \") - \" + invoiceCount }]);\n        excelData[0].data.push([{ value: \"Supplier Name: \" + purchase.vendor_name }]);\n        if (purchase.vendor && purchase.vendor.vat_no) {\n            excelData[0].data.push([{ value: \"Supplier VAT No.: \" + purchase.vendor.vat_no }]);\n        } else {\n            excelData[0].data.push([{ value: \"Supplier VAT No.: N/A\" }]);\n        }\n        */\n\n\n        /*\n        if (!purchase.products) {\n            continue;\n        }\n        */\n\n        /*\n        for (var j = 0; j < purchase.products.length; j++) {\n     \n            let product = purchase.products[j];\n     \n            excelData[0].data.push([\n                {\n                    value: product.name\n                },\n                {\n                    value: product.quantity.toFixed(2),\n                },\n                {\n                    value: product.unit ? product.unit : \"PCs\",\n                },\n                {\n                    value: product.purchase_unit_price ? product.purchase_unit_price.toFixed(2) : 0.00,\n                },\n                {\n                    value: (product.purchase_unit_price * product.quantity).toFixed(2)\n                },\n                {\n                    value: \"0.00\",\n                },\n                {\n                    value: \"0.00\",\n                },\n                {\n                    value: \"15.00\",\n                },\n                {\n                    value: ((product.purchase_unit_price * product.quantity).toFixed(2) * 0.15).toFixed(2),\n                },\n                {\n                    value: (product.purchase_unit_price * product.quantity).toFixed(2),\n                },\n            ]);\n        }\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Shipping/Handling Fees\",\n            }, {\n                value: purchase.shipping_handling_fees.toFixed(2),\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount Before VAT\",\n            }, {\n                value: (purchase.total + purchase.shipping_handling_fees).toFixed(2),\n            },\n        ]);\n     \n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Discount\",\n            }, {\n                value: purchase.discount.toFixed(2),\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount After Discount\",\n            }, {\n                value: (purchase.total + purchase.shipping_handling_fees - purchase.discount).toFixed(2),\n            },\n        ]);\n     \n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"VAT Amount\",\n            }, {\n                value: purchase.vat_price.toFixed(2),\n            },\n        ]);\n     \n     \n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount After VAT\",\n            }, {\n                value: (purchase.total + purchase.shipping_handling_fees - purchase.discount + purchase.vat_price).toFixed(2),\n            },\n        ]);\n     \n        dayTotalBeforeVAT += (purchase.total + purchase.shipping_handling_fees - purchase.discount);\n        dayTotalAfterVAT += (purchase.total + purchase.shipping_handling_fees - purchase.discount + purchase.vat_price);\n        dayVAT += purchase.vat_price;\n     \n    }\n     \n     \n    excelData[0].data.push([\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        {\n            value: \"Day Total Before VAT\",\n        }, {\n            value: dayTotalBeforeVAT.toFixed(2),\n        },\n    ]);\n     \n    excelData[0].data.push([\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        {\n            value: \"Day VAT\",\n        }, {\n            value: dayVAT.toFixed(2),\n        },\n    ]);\n     \n     \n    excelData[0].data.push([\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        { value: \"\", },\n        {\n            value: \"Day Total After VAT\",\n        }, {\n            value: dayTotalAfterVAT.toFixed(2),\n        },\n    ]);\n     \n    totalAmountBeforeVAT += dayTotalBeforeVAT;\n    totalAmountAfterVAT += dayTotalAfterVAT;\n    totalVAT += dayVAT;\n     \n     \n    }//end for1\n    */\n\n        /*\n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"\",\n            }, {\n                value: \"\",\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount Before VAT\",\n            }, {\n                value: totalAmountBeforeVAT.toFixed(2),\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total VAT\",\n            }, {\n                value: totalVAT.toFixed(2),\n            },\n        ]);\n     \n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount After VAT\",\n            }, {\n                value: totalAmountAfterVAT.toFixed(2),\n            },\n        ]);\n        */\n\n\n\n\n        setExcelData(excelData);\n\n        console.log(\"excelData:\", excelData);\n    }\n\n    function makePurchaseReportFilename() {\n        purchaseReportFileName = \"Purchase Report\";\n        if (searchParams[\"from_date\"] && searchParams[\"to_date\"]) {\n            purchaseReportFileName += \" - From \" + searchParams[\"from_date\"] + \" to \" + searchParams[\"to_date\"];\n        } else if (searchParams[\"from_date\"]) {\n            purchaseReportFileName += \" - From \" + searchParams[\"from_date\"] + \" to \" + format(\n                new Date(),\n                \"dd-MMM-yyyy\"\n            );\n        } else if (searchParams[\"to_date\"]) {\n            purchaseReportFileName += \" - Upto \" + searchParams[\"to_date\"];\n        } else if (searchParams[\"date_str\"]) {\n            purchaseReportFileName += \" of \" + searchParams[\"date_str\"];\n        }\n\n        setPurchaseReportFileName(purchaseReportFileName);\n    }\n    async function getAllPurchases() {\n        const requestOptions = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: cookies.get(\"access_token\"),\n            },\n        };\n        let Select =\n            \"select=id,code,vendor_id,vendor.id,vendor.vat_no,vendor_invoice_no,date,total,net_total,shipping_handling_fees,discount_percent,discount,products,vendor_name,created_at,updated_at,vat_price\";\n\n        if (cookies.get(\"store_id\")) {\n            searchParams.store_id = cookies.get(\"store_id\");\n        }\n\n        const d = new Date();\n        let diff = d.getTimezoneOffset();\n        console.log(\"Timezone:\", parseFloat(diff / 60));\n        searchParams[\"timezone_offset\"] = parseFloat(diff / 60);\n\n        setSearchParams(searchParams);\n        let queryParams = ObjectToSearchQueryParams(searchParams);\n        if (queryParams !== \"\") {\n            queryParams = \"&\" + queryParams;\n        }\n\n        let size = 500;\n\n        let purchases = [];\n        var pageNo = 1;\n\n        makePurchaseReportFilename();\n\n        for (; true;) {\n\n            fettingAllRecordsInProgress = true;\n            setFettingAllRecordsInProgress(true);\n            let res = await fetch(\n                \"/v1/purchase?\" +\n                Select +\n                queryParams +\n                \"&sort=\" +\n                sortOrder +\n                sortField +\n                \"&page=\" +\n                pageNo +\n                \"&limit=\" +\n                size,\n                requestOptions\n            )\n                .then(async (response) => {\n                    const isJson = response.headers\n                        .get(\"content-type\")\n                        ?.includes(\"application/json\");\n                    const data = isJson && (await response.json());\n\n                    // check for error response\n                    if (!response.ok) {\n                        const error = data && data.errors;\n                        return Promise.reject(error);\n                    }\n\n                    setIsListLoading(false);\n                    if (!data.result || data.result.length === 0) {\n                        return [];\n                    }\n\n\n                    // console.log(\"Orders:\", orders);\n\n                    return data.result;\n\n\n                })\n                .catch((error) => {\n                    console.log(error);\n                    return [];\n                    //break;\n\n                });\n            if (res.length === 0) {\n                break;\n            }\n            purchases = purchases.concat(res);\n            pageNo++;\n        }\n\n        allPurchases = purchases;\n        setAllPurchases(purchases);\n\n        console.log(\"allPurchases:\", allPurchases);\n        prepareExcelData();\n        fettingAllRecordsInProgress = false;\n        setFettingAllRecordsInProgress(false);\n\n    }\n\n\n\n    //Search params\n    const [searchParams, setSearchParams] = useState({});\n    let [sortField, setSortField] = useState(\"created_at\");\n    let [sortOrder, setSortOrder] = useState(\"-\");\n\n    function ObjectToSearchQueryParams(object) {\n        return Object.keys(object)\n            .map(function (key) {\n                return `search[${key}]=${object[key]}`;\n            })\n            .join(\"&\");\n    }\n\n    async function suggestVendors(searchTerm) {\n        console.log(\"Inside handle suggestVendors\");\n\n        var params = {\n            name: searchTerm,\n        };\n        var queryString = ObjectToSearchQueryParams(params);\n        if (queryString !== \"\") {\n            queryString = `&${queryString}`;\n        }\n\n        const requestOptions = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: cookies.get(\"access_token\"),\n            },\n        };\n\n        let Select = \"select=id,name,phone,name_in_arabic,phone_in_arabic,search_label\";\n        let result = await fetch(`/v1/vendor?${Select}${queryString}`, requestOptions);\n        let data = await result.json();\n\n        setVendorOptions(data.result);\n    }\n\n    async function suggestUsers(searchTerm) {\n        console.log(\"Inside handle suggestUsers\");\n        setVendorOptions([]);\n\n        console.log(\"searchTerm:\" + searchTerm);\n        if (!searchTerm) {\n            return;\n        }\n\n        var params = {\n            name: searchTerm,\n        };\n        var queryString = ObjectToSearchQueryParams(params);\n        if (queryString !== \"\") {\n            queryString = \"&\" + queryString;\n        }\n\n        const requestOptions = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: cookies.get(\"access_token\"),\n            },\n        };\n\n        let Select = \"select=id,name\";\n        let result = await fetch(\n            \"/v1/user?\" + Select + queryString,\n            requestOptions\n        );\n        let data = await result.json();\n\n        setUserOptions(data.result);\n    }\n\n    function searchByFieldValue(field, value) {\n        searchParams[field] = value;\n\n        page = 1;\n        setPage(page);\n        list();\n    }\n\n    function searchByDateField(field, value) {\n\n        if (!value) {\n            page = 1;\n            searchParams[field] = \"\";\n            setPage(page);\n            list();\n            return;\n        }\n\n        let d = new Date(value);\n        d = new Date(d.toUTCString());\n        value = format(d, \"MMM dd yyyy\");\n\n\n        if (field === \"date_str\") {\n            setDateValue(value);\n            setFromDateValue(\"\");\n            setToDateValue(\"\");\n            searchParams[\"from_date\"] = \"\";\n            searchParams[\"to_date\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"from_date\") {\n            setFromDateValue(value);\n            setDateValue(\"\");\n            searchParams[\"date\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"to_date\") {\n            setToDateValue(value);\n            setDateValue(\"\");\n            searchParams[\"date\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"created_at\") {\n            setCreatedAtValue(value);\n            setCreatedAtFromValue(\"\");\n            setCreatedAtToValue(\"\");\n            searchParams[\"created_at_from\"] = \"\";\n            searchParams[\"created_at_to\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"updated_at\") {\n            setUpdatedAtValue(value);\n            setUpdatedAtFromValue(\"\");\n            setUpdatedAtToValue(\"\");\n            searchParams[\"updated_at_from\"] = \"\";\n            searchParams[\"updated_at_to\"] = \"\";\n            searchParams[field] = value;\n        }\n\n        if (field === \"created_at_from\") {\n            setCreatedAtFromValue(value);\n            setCreatedAtValue(\"\");\n            searchParams[\"created_at\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"created_at_to\") {\n            setCreatedAtToValue(value);\n            setCreatedAtValue(\"\");\n            searchParams[\"created_at\"] = \"\";\n            searchParams[field] = value;\n        }\n\n        if (field === \"updated_at_from\") {\n            setUpdatedAtFromValue(value);\n            setUpdatedAtValue(\"\");\n            searchParams[\"updated_at\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"updated_at_to\") {\n            setUpdatedAtToValue(value);\n            setUpdatedAtValue(\"\");\n            searchParams[\"updated_at\"] = \"\";\n            searchParams[field] = value;\n        }\n\n\n        page = 1;\n        setPage(page);\n\n        list();\n    }\n\n    function searchByMultipleValuesField(field, values) {\n        if (field === \"created_by\") {\n            setSelectedCreatedByUsers(values);\n        } else if (field === \"vendor_id\") {\n            setSelectedVendors(values);\n        } else if (field === \"status\") {\n            setSelectedStatusList(values);\n        }\n\n        searchParams[field] = Object.values(values)\n            .map(function (model) {\n                return model.id;\n            })\n            .join(\",\");\n\n        page = 1;\n        setPage(page);\n\n        list();\n    }\n\n    function list() {\n        excelData = [];\n        setExcelData(excelData);\n        const requestOptions = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: cookies.get(\"access_token\"),\n            },\n        };\n        let Select =\n            \"select=id,code,date,net_total,discount,vat_price,total,store_id,created_by_name,vendor_name,vendor_invoice_no,status,created_at,updated_at,net_retail_profit,net_wholesale_profit\";\n        if (cookies.get(\"store_id\")) {\n            searchParams.store_id = cookies.get(\"store_id\");\n        }\n\n        const d = new Date();\n        let diff = d.getTimezoneOffset();\n        searchParams[\"timezone_offset\"] = parseFloat(diff / 60);\n\n        setSearchParams(searchParams);\n        let queryParams = ObjectToSearchQueryParams(searchParams);\n        if (queryParams !== \"\") {\n            queryParams = \"&\" + queryParams;\n        }\n\n        setIsListLoading(true);\n        fetch(\n            \"/v1/purchase?\" +\n            Select +\n            queryParams +\n            \"&sort=\" +\n            sortOrder +\n            sortField +\n            \"&page=\" +\n            page +\n            \"&limit=\" +\n            pageSize,\n            requestOptions\n        )\n            .then(async (response) => {\n                const isJson = response.headers\n                    .get(\"content-type\")\n                    ?.includes(\"application/json\");\n                const data = isJson && (await response.json());\n\n                // check for error response\n                if (!response.ok) {\n                    const error = data && data.errors;\n                    return Promise.reject(error);\n                }\n\n                setIsListLoading(false);\n                setIsRefreshInProcess(false);\n                setPurchaseList(data.result);\n\n                let pageCount = parseInt((data.total_count + pageSize - 1) / pageSize);\n\n                setTotalPages(pageCount);\n                setTotalItems(data.total_count);\n                setOffset((page - 1) * pageSize);\n                setCurrentPageItemsCount(data.result.length);\n\n                totalPurchase = data.meta.total_purchase;\n                setTotalPurchase(totalPurchase);\n\n                vatPrice = data.meta.vat_price;\n                setVatPrice(vatPrice);\n\n                totalShippingHandlingFees = data.meta.shipping_handling_fees;\n                setTotalShippingHandlingFees(totalShippingHandlingFees);\n\n                totalDiscount = data.meta.discount;\n                setTotalDiscount(totalDiscount);\n\n\n                netRetailProfit = data.meta.net_retail_profit;\n                setNetRetailProfit(netRetailProfit);\n\n                netWholesaleProfit = data.meta.net_wholesale_profit;\n                setNetWholesaleProfit(netWholesaleProfit);\n            })\n            .catch((error) => {\n                setIsListLoading(false);\n                setIsRefreshInProcess(false);\n                console.log(error);\n            });\n    }\n\n    function sort(field) {\n        sortField = field;\n        setSortField(sortField);\n        sortOrder = sortOrder === \"-\" ? \"\" : \"-\";\n        setSortOrder(sortOrder);\n        list();\n    }\n\n    function changePageSize(size) {\n        pageSize = parseInt(size);\n        setPageSize(pageSize);\n        list();\n    }\n\n    function changePage(newPage) {\n        page = parseInt(newPage);\n        setPage(page);\n        list();\n    }\n\n\n    function openUpdateForm(id) {\n        CreateFormRef.current.open(id);\n    }\n\n    const DetailsViewRef = useRef();\n    function openDetailsView(id) {\n        DetailsViewRef.current.open(id);\n    }\n\n    const CreateFormRef = useRef();\n    function openCreateForm() {\n        CreateFormRef.current.open();\n    }\n\n    const PurchaseReturnCreateRef = useRef();\n    function openPurchaseReturnForm(id) {\n        PurchaseReturnCreateRef.current.open(undefined, id);\n    }\n\n    const PurchaseCashDiscountCreateRef = useRef();\n    function openPurchaseCashDiscountCreateForm(order) {\n        PurchaseCashDiscountCreateRef.current.open(undefined, order);\n    }\n\n    const PurchaseCashDiscountDetailsViewRef = useRef();\n    function openPurchaseCashDiscountDetailsView(id) {\n        PurchaseCashDiscountDetailsViewRef.current.open(id);\n    }\n\n    function openPurchaseCashDiscountUpdateForm(id) {\n        PurchaseCashDiscountCreateRef.current.open(id);\n    }\n\n    //Purchase Payments\n    const PurchasePaymentCreateRef = useRef();\n    function openPurchasePaymentCreateForm(purchase) {\n        PurchasePaymentCreateRef.current.open(undefined, purchase);\n    }\n\n    const PurchasePaymentDetailsViewRef = useRef();\n    function openPurchasePaymentDetailsView(id) {\n        PurchasePaymentDetailsViewRef.current.open(id);\n    }\n\n    function openPurchasePaymentUpdateForm(id) {\n        PurchasePaymentCreateRef.current.open(id);\n    }\n\n    return (\n        <>\n            <PurchaseCreate ref={CreateFormRef} refreshList={list} showToastMessage={props.showToastMessage} openDetailsView={openDetailsView} />\n            <PurchaseView ref={DetailsViewRef} openUpdateForm={openUpdateForm} openCreateForm={openCreateForm} />\n            <PurchaseReturnCreate ref={PurchaseReturnCreateRef} showToastMessage={props.showToastMessage} />\n\n            <PurchaseCashDiscountCreate ref={PurchaseCashDiscountCreateRef} showToastMessage={props.showToastMessage} openDetailsView={openPurchaseCashDiscountDetailsView} />\n            <PurchaseCashDiscountDetailsView ref={PurchaseCashDiscountDetailsViewRef} openUpdateForm={openPurchaseCashDiscountUpdateForm} showToastMessage={props.showToastMessage} />\n\n            <PurchasePaymentCreate ref={PurchasePaymentCreateRef} showToastMessage={props.showToastMessage} openDetailsView={openPurchasePaymentDetailsView} />\n            <PurchasePaymentDetailsView ref={PurchasePaymentDetailsViewRef} openUpdateForm={openPurchasePaymentUpdateForm} showToastMessage={props.showToastMessage} />\n\n            <div className=\"container-fluid p-0\">\n                <div className=\"row\">\n\n                    <div className=\"col\">\n                        <h1 className=\"text-end\">\n                            Purchases: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalPurchase}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" SAR\"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        <h1 className=\"text-end\">\n                            Discounts: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalDiscount.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" SAR\"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        <h1 className=\"text-end\">\n                            Shipping/Handling fees: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalShippingHandlingFees.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" SAR\"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        <h1 className=\"text-end\">\n                            VAT paid: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={vatPrice.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" SAR\"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        {cookies.get('admin') === \"true\" ?\n                            <h1 className=\"text-end\">\n                                Expected Net Retail Profit: <Badge bg=\"secondary\">\n                                    <NumberFormat\n                                        value={netRetailProfit}\n                                        displayType={\"text\"}\n                                        thousandSeparator={true}\n                                        suffix={\" SAR\"}\n                                        renderText={(value, props) => value}\n                                    />\n                                </Badge>\n                            </h1> : \"\"}\n                        {cookies.get('admin') === \"true\" ?\n                            <h1 className=\"text-end\">\n                                Expected Net Wholesale Profit: <Badge bg=\"secondary\">\n                                    <NumberFormat\n                                        value={netWholesaleProfit}\n                                        displayType={\"text\"}\n                                        thousandSeparator={true}\n                                        suffix={\" SAR\"}\n                                        renderText={(value, props) => value}\n                                    />\n                                </Badge>\n                            </h1> : \"\"}\n                    </div>\n\n                </div>\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <h1 className=\"h3\">Purchases</h1>\n                    </div>\n\n                    <div className=\"col text-end\">\n                        <ExcelFile filename={purchaseReportFileName} element={excelData.length > 0 ? <Button variant=\"success\" className=\"btn btn-primary mb-3 success\" >Download Purchase Report</Button> : \"\"}>\n                            <ExcelSheet dataSet={excelData} name={purchaseReportFileName} />\n                        </ExcelFile>\n\n                        {excelData.length == 0 ? <Button variant=\"primary\" className=\"btn btn-primary mb-3\" onClick={getAllPurchases} >{fettingAllRecordsInProgress ? \"Preparing..\" : \"Purchase Report\"}</Button> : \"\"}\n                        &nbsp;&nbsp;\n\n                        <Button\n                            hide={true.toString()}\n                            variant=\"primary\"\n                            className=\"btn btn-primary mb-3\"\n                            onClick={openCreateForm}\n                        >\n                            <i className=\"bi bi-plus-lg\"></i> Create\n                        </Button>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <div className=\"card\">\n                            {/*\n  <div   className=\"card-header\">\n                        <h5   className=\"card-title mb-0\"></h5>\n                    </div>\n                    */}\n                            <div className=\"card-body\">\n                                <div className=\"row\">\n                                    {totalItems === 0 && (\n                                        <div className=\"col\">\n                                            <p className=\"text-start\">No Purchases to display</p>\n                                        </div>\n                                    )}\n                                </div>\n                                <div className=\"row\" style={{ border: \"solid 0px\" }}>\n                                    <div className=\"col text-start\" style={{ border: \"solid 0px\" }}>\n                                        <Button\n                                            onClick={() => {\n                                                setIsRefreshInProcess(true);\n                                                list();\n                                            }}\n                                            variant=\"primary\"\n                                            disabled={isRefreshInProcess}\n                                        >\n                                            {isRefreshInProcess ? (\n                                                <Spinner\n                                                    as=\"span\"\n                                                    animation=\"border\"\n                                                    size=\"sm\"\n                                                    role=\"status\"\n                                                    aria-hidden={true}\n                                                />\n                                            ) : (\n                                                <i className=\"fa fa-refresh\"></i>\n                                            )}\n                                            <span className=\"visually-hidden\">Loading...</span>\n                                        </Button>\n                                    </div>\n                                    <div className=\"col text-center\">\n                                        {isListLoading && (\n                                            <Spinner animation=\"grow\" variant=\"primary\" />\n                                        )}\n                                    </div>\n                                    <div className=\"col text-end\">\n                                        {totalItems > 0 && (\n                                            <>\n                                                <label className=\"form-label\">Size:&nbsp;</label>\n                                                <select\n                                                    value={pageSize}\n                                                    onChange={(e) => {\n                                                        changePageSize(e.target.value);\n                                                    }}\n                                                    className=\"form-control pull-right\"\n                                                    style={{\n                                                        border: \"solid 1px\",\n                                                        borderColor: \"silver\",\n                                                        width: \"55px\",\n                                                    }}\n                                                >\n                                                    <option value=\"5\">\n                                                        5\n                                                    </option>\n                                                    <option value=\"10\">\n                                                        10\n                                                    </option>\n                                                    <option value=\"20\">20</option>\n                                                    <option value=\"40\">40</option>\n                                                    <option value=\"50\">50</option>\n                                                    <option value=\"100\">100</option>\n                                                </select>\n                                            </>\n                                        )}\n                                    </div>\n                                </div>\n\n                                <br />\n                                <div className=\"row\">\n                                    <div className=\"col\" style={{ border: \"solid 0px\" }}>\n                                        {totalPages ? <ReactPaginate\n                                            breakLabel=\"...\"\n                                            nextLabel=\"next >\"\n                                            onPageChange={(event) => {\n                                                changePage(event.selected + 1);\n                                            }}\n                                            pageRangeDisplayed={5}\n                                            pageCount={totalPages}\n                                            previousLabel=\"< previous\"\n                                            renderOnZeroPageCount={null}\n                                            className=\"pagination\"\n                                            pageClassName=\"page-item\"\n                                            pageLinkClassName=\"page-link\"\n                                            activeClassName=\"active\"\n                                            previousClassName=\"page-item\"\n                                            nextClassName=\"page-item\"\n                                            previousLinkClassName=\"page-link\"\n                                            nextLinkClassName=\"page-link\"\n                                            forcePage={page - 1}\n                                        /> : \"\"}\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    {totalItems > 0 && (\n                                        <>\n                                            <div className=\"col text-start\">\n                                                <p className=\"text-start\">\n                                                    showing {offset + 1}-{offset + currentPageItemsCount} of{\" \"}\n                                                    {totalItems}\n                                                </p>\n                                            </div>\n\n                                            <div className=\"col text-end\">\n                                                <p className=\"text-end\">\n                                                    page {page} of {totalPages}\n                                                </p>\n                                            </div>\n                                        </>\n                                    )}\n                                </div>\n                                <div className=\"table-responsive\" style={{ overflowX: \"auto\" }}>\n                                    <table className=\"table table-striped table-sm table-bordered\">\n                                        <thead>\n                                            <tr className=\"text-center\">\n\n\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"code\");\n                                                        }}\n                                                    >\n                                                        ID\n                                                        {sortField === \"code\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"code\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"vendor_invoice_no\");\n                                                        }}\n                                                    >\n                                                        Vendor Invoice No.\n                                                        {sortField === \"vendor_invoice_no\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"vendor_invoice_no\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"vendor_name\");\n                                                        }}\n                                                    >\n                                                        Vendor\n                                                        {sortField === \"vendor_name\" &&\n                                                            sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"vendor_name\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"date\");\n                                                        }}\n                                                    >\n                                                        Date\n                                                        {sortField === \"date\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"date\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"net_total\");\n                                                        }}\n                                                    >\n                                                        Net Total\n                                                        {sortField === \"net_total\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"net_total\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"discount\");\n                                                        }}\n                                                    >\n                                                        Discount\n                                                        {sortField === \"discount\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"discount\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"vat_price\");\n                                                        }}\n                                                    >\n                                                        VAT\n                                                        {sortField === \"vat_price\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"vat_price\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                {cookies.get('admin') === \"true\" ?\n                                                    <th>\n                                                        <b\n                                                            style={{\n                                                                textDecoration: \"underline\",\n                                                                cursor: \"pointer\",\n                                                            }}\n                                                            onClick={() => {\n                                                                sort(\"retail_profit\");\n                                                            }}\n                                                        >\n                                                            Expected Net Retail Profit\n                                                            {sortField === \"net_retail_profit\" && sortOrder === \"-\" ? (\n                                                                <i className=\"bi bi-sort-numeric-down\"></i>\n                                                            ) : null}\n                                                            {sortField === \"net_retail_profit\" && sortOrder === \"\" ? (\n                                                                <i className=\"bi bi-sort-numeric-up\"></i>\n                                                            ) : null}\n                                                        </b>\n                                                    </th>\n                                                    : \"\"}\n                                                {cookies.get('admin') === \"true\" ?\n                                                    <th>\n                                                        <b\n                                                            style={{\n                                                                textDecoration: \"underline\",\n                                                                cursor: \"pointer\",\n                                                            }}\n                                                            onClick={() => {\n                                                                sort(\"wholesale_profit\");\n                                                            }}\n                                                        >\n                                                            Expected Net Wholesale Profit\n                                                            {sortField === \"net_wholesale_profit\" && sortOrder === \"-\" ? (\n                                                                <i className=\"bi bi-sort-numeric-down\"></i>\n                                                            ) : null}\n                                                            {sortField === \"net_wholesale_profit\" && sortOrder === \"\" ? (\n                                                                <i className=\"bi bi-sort-numeric-up\"></i>\n                                                            ) : null}\n                                                        </b>\n                                                    </th> : \"\"}\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"created_by\");\n                                                        }}\n                                                    >\n                                                        Created By\n                                                        {sortField === \"created_by\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"created_by\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"status\");\n                                                        }}\n                                                    >\n                                                        Status\n                                                        {sortField === \"status\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"status\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"created_at\");\n                                                        }}\n                                                    >\n                                                        Created At\n                                                        {sortField === \"created_at\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"created_at\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"updated_at\");\n                                                        }}\n                                                    >\n                                                        Updated At\n                                                        {sortField === \"updated_at\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"updated_at\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>Actions</th>\n                                            </tr>\n                                        </thead>\n\n                                        <thead>\n                                            <tr className=\"text-center\">\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"code\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"code\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"vendor_invoice_no\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"vendor_invoice_no\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <Typeahead\n                                                        id=\"vendor_id\"\n                                                        labelKey=\"search_label\"\n                                                        onChange={(selectedItems) => {\n                                                            searchByMultipleValuesField(\n                                                                \"vendor_id\",\n                                                                selectedItems\n                                                            );\n                                                        }}\n                                                        options={vendorOptions}\n                                                        placeholder=\"name or mob\"\n                                                        selected={selectedVendors}\n                                                        highlightOnlyResult={true}\n                                                        onInputChange={(searchTerm, e) => {\n                                                            suggestVendors(searchTerm);\n                                                        }}\n                                                        multiple\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <DatePicker\n                                                        id=\"date_str\"\n                                                        value={dateValue}\n                                                        selected={selectedDate}\n                                                        className=\"form-control\"\n                                                        dateFormat=\"MMM dd yyyy\"\n                                                        onChange={(date) => {\n                                                            if (!date) {\n                                                                setDateValue(\"\");\n                                                                searchByDateField(\"date_str\", \"\");\n                                                                return;\n                                                            }\n                                                            searchByDateField(\"date_str\", date);\n                                                        }}\n                                                    />\n                                                    <small\n                                                        style={{\n                                                            color: \"blue\",\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={(e) => setShowDateRange(!showDateRange)}\n                                                    >\n                                                        {showDateRange ? \"Less..\" : \"More..\"}\n                                                    </small>\n                                                    <br />\n\n                                                    {showDateRange ? (\n                                                        <span className=\"text-left\">\n                                                            From:{\" \"}\n                                                            <DatePicker\n                                                                id=\"from_date\"\n                                                                value={fromDateValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setFromDateValue(\"\");\n                                                                        searchByDateField(\"from_date\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"from_date\", date);\n                                                                }}\n                                                            />\n                                                            To:{\" \"}\n                                                            <DatePicker\n                                                                id=\"to_date\"\n                                                                value={toDateValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setToDateValue(\"\");\n                                                                        searchByDateField(\"to_date\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"to_date\", date);\n                                                                }}\n                                                            />\n                                                        </span>\n                                                    ) : null}\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"net_total\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"net_total\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"discount\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"discount\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"vat_price\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"vat_price\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                {cookies.get('admin') === \"true\" ?\n                                                    <th>\n                                                        <input\n                                                            type=\"text\"\n                                                            id=\"net_retail_profit\"\n                                                            onChange={(e) =>\n                                                                searchByFieldValue(\"net_retail_profit\", e.target.value)\n                                                            }\n                                                            className=\"form-control\"\n                                                        />\n                                                    </th>\n                                                    : \"\"}\n                                                {cookies.get('admin') === \"true\" ?\n                                                    <th>\n                                                        <input\n                                                            type=\"text\"\n                                                            id=\"net_wholesale_profit\"\n                                                            onChange={(e) =>\n                                                                searchByFieldValue(\"net_wholesale_profit\", e.target.value)\n                                                            }\n                                                            className=\"form-control\"\n                                                        />\n                                                    </th> : \"\"}\n                                                <th>\n                                                    <Typeahead\n                                                        id=\"created_by\"\n                                                        labelKey=\"name\"\n                                                        onChange={(selectedItems) => {\n                                                            searchByMultipleValuesField(\n                                                                \"created_by\",\n                                                                selectedItems\n                                                            );\n                                                        }}\n                                                        options={userOptions}\n                                                        placeholder=\"Select Users\"\n                                                        selected={selectedCreatedByUsers}\n                                                        highlightOnlyResult={true}\n                                                        onInputChange={(searchTerm, e) => {\n                                                            suggestUsers(searchTerm);\n                                                        }}\n                                                        multiple\n                                                    />\n                                                </th>\n\n                                                <th>\n                                                    <Typeahead\n                                                        id=\"status\"\n                                                        labelKey=\"name\"\n                                                        onChange={(selectedItems) => {\n                                                            searchByMultipleValuesField(\n                                                                \"status\",\n                                                                selectedItems\n                                                            );\n                                                        }}\n                                                        options={statusOptions}\n                                                        placeholder=\"Select Status\"\n                                                        selected={selectedStatusList}\n                                                        highlightOnlyResult={true}\n                                                        multiple\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <DatePicker\n                                                        id=\"created_at\"\n                                                        value={createdAtValue}\n                                                        selected={selectedDate}\n                                                        className=\"form-control\"\n                                                        dateFormat=\"MMM dd yyyy\"\n                                                        onChange={(date) => {\n                                                            if (!date) {\n                                                                setCreatedAtValue(\"\");\n                                                                searchByDateField(\"created_at\", \"\");\n                                                                return;\n                                                            }\n                                                            searchByDateField(\"created_at\", date);\n                                                        }}\n                                                    />\n                                                    <small\n                                                        style={{\n                                                            color: \"blue\",\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={(e) =>\n                                                            setShowCreatedAtDateRange(!showCreatedAtDateRange)\n                                                        }\n                                                    >\n                                                        {showCreatedAtDateRange ? \"Less..\" : \"More..\"}\n                                                    </small>\n                                                    <br />\n\n                                                    {showCreatedAtDateRange ? (\n                                                        <span className=\"text-left\">\n                                                            From:{\" \"}\n                                                            <DatePicker\n                                                                id=\"created_at_from\"\n                                                                value={createdAtFromValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setCreatedAtFromValue(\"\");\n                                                                        searchByDateField(\"created_at_from\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"created_at_from\", date);\n                                                                }}\n                                                            />\n                                                            To:{\" \"}\n                                                            <DatePicker\n                                                                id=\"created_at_to\"\n                                                                value={createdAtToValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setCreatedAtToValue(\"\");\n                                                                        searchByDateField(\"created_at_to\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"created_at_to\", date);\n                                                                }}\n                                                            />\n                                                        </span>\n                                                    ) : null}\n                                                </th>\n                                                <th>\n                                                    <DatePicker\n                                                        id=\"updated_at\"\n                                                        value={updatedAtValue}\n                                                        selected={selectedDate}\n                                                        className=\"form-control\"\n                                                        dateFormat=\"MMM dd yyyy\"\n                                                        onChange={(date) => {\n                                                            if (!date) {\n                                                                setUpdatedAtValue(\"\");\n                                                                searchByDateField(\"updated_at\", \"\");\n                                                                return;\n                                                            }\n                                                            searchByDateField(\"updated_at\", date);\n                                                        }}\n                                                    />\n                                                    <small\n                                                        style={{\n                                                            color: \"blue\",\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={(e) =>\n                                                            setShowUpdatedAtDateRange(!showUpdatedAtDateRange)\n                                                        }\n                                                    >\n                                                        {showUpdatedAtDateRange ? \"Less..\" : \"More..\"}\n                                                    </small>\n                                                    <br />\n\n                                                    {showUpdatedAtDateRange ? (\n                                                        <span className=\"text-left\">\n                                                            From:{\" \"}\n                                                            <DatePicker\n                                                                id=\"updated_at_from\"\n                                                                value={updatedAtFromValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setUpdatedAtFromValue(\"\");\n                                                                        searchByDateField(\"updated_at_from\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"updated_at_from\", date);\n                                                                }}\n                                                            />\n                                                            To:{\" \"}\n                                                            <DatePicker\n                                                                id=\"updated_at_to\"\n                                                                value={updatedAtToValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setUpdatedAtToValue(\"\");\n                                                                        searchByDateField(\"updated_at_to\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"updated_at_to\", date);\n                                                                }}\n                                                            />\n                                                        </span>\n                                                    ) : null}\n                                                </th>\n                                                <th></th>\n                                            </tr>\n                                        </thead>\n\n                                        <tbody className=\"text-center\">\n                                            {purchaseList &&\n                                                purchaseList.map((purchase) => (\n                                                    <tr key={purchase.code}>\n                                                        <td>{purchase.code}</td>\n                                                        <td>{purchase.vendor_invoice_no}</td>\n                                                        <td>{purchase.vendor_name}</td>\n                                                        <td>\n                                                            {format(new Date(purchase.date), \"MMM dd yyyy h:mma\")}\n                                                        </td>\n                                                        <td>\n                                                            <NumberFormat\n                                                                value={purchase.net_total}\n                                                                displayType={\"text\"}\n                                                                thousandSeparator={true}\n                                                                suffix={\" SAR\"}\n                                                                renderText={(value, props) => value}\n                                                            />\n                                                        </td>\n                                                        <td>\n                                                            <NumberFormat\n                                                                value={purchase.discount}\n                                                                displayType={\"text\"}\n                                                                thousandSeparator={true}\n                                                                suffix={\" SAR\"}\n                                                                renderText={(value, props) => value}\n                                                            />\n                                                        </td>\n                                                        <td>\n                                                            <NumberFormat\n                                                                value={purchase.vat_price}\n                                                                displayType={\"text\"}\n                                                                thousandSeparator={true}\n                                                                suffix={\" SAR\"}\n                                                                renderText={(value, props) => value}\n                                                            />\n                                                        </td>\n                                                        {cookies.get('admin') === \"true\" ?\n                                                            <td>\n                                                                <NumberFormat\n                                                                    value={purchase.net_retail_profit}\n                                                                    displayType={\"text\"}\n                                                                    thousandSeparator={true}\n                                                                    suffix={\" SAR\"}\n                                                                    renderText={(value, props) => value}\n                                                                />\n                                                            </td>\n                                                            : \"\"}\n                                                        {cookies.get('admin') === \"true\" ?\n                                                            <td>\n                                                                <NumberFormat\n                                                                    value={purchase.net_wholesale_profit}\n                                                                    displayType={\"text\"}\n                                                                    thousandSeparator={true}\n                                                                    suffix={\" SAR\"}\n                                                                    renderText={(value, props) => value}\n                                                                />\n                                                            </td>\n                                                            : \"\"}\n\n                                                        <td>{purchase.created_by_name}</td>\n\n                                                        <td>\n                                                            <span className=\"badge bg-success\">\n                                                                {purchase.status}\n                                                            </span>\n                                                        </td>\n                                                        <td>\n                                                            {format(\n                                                                new Date(purchase.created_at),\n                                                                \"MMM dd yyyy h:mma\"\n                                                            )}\n                                                        </td>\n                                                        <td>\n                                                            {purchase.updated_at ? format(\n                                                                new Date(purchase.updated_at),\n                                                                \"MMM dd yyyy h:mma\"\n                                                            ) : \"\"}\n                                                        </td>\n                                                        <td>\n                                                            <Button className=\"btn btn-light btn-sm\" onClick={() => {\n                                                                openUpdateForm(purchase.id);\n                                                            }}>\n                                                                <i className=\"bi bi-pencil\"></i>\n                                                            </Button>\n\n                                                            <Button className=\"btn btn-primary btn-sm\" onClick={() => {\n                                                                openDetailsView(purchase.id);\n                                                            }}>\n                                                                <i className=\"bi bi-eye\"></i>\n                                                            </Button>\n\n                                                            <button\n                                                                className=\"btn btn-dark btn-sm\"\n                                                                data-bs-toggle=\"tooltip\"\n                                                                data-bs-placement=\"top\"\n                                                                title=\"Create Purchase Return\"\n                                                                onClick={() => {\n                                                                    openPurchaseReturnForm(purchase.id);\n                                                                }}\n                                                            >\n                                                                <i className=\"bi bi-arrow-left\"></i> Return\n                                                            </button>\n\n\n                                                            <button\n                                                                className=\"btn btn-default btn-sm\"\n                                                                data-bs-toggle=\"tooltip\"\n                                                                data-bs-placement=\"top\"\n                                                                title=\"Download\"\n                                                            >\n                                                                <i className=\"bi bi-download\"></i>\n                                                            </button>\n\n                                                            <button\n                                                                className=\"btn btn-outline-secondary dropdown-toggle\"\n                                                                type=\"button\"\n                                                                data-bs-toggle=\"dropdown\"\n                                                                aria-expanded=\"false\"\n                                                            ></button>\n                                                            <ul className=\"dropdown-menu\">\n                                                                <li>\n                                                                    <button className=\"dropdown-item\" onClick={() => {\n                                                                        openPurchaseCashDiscountCreateForm(purchase);\n                                                                    }}>\n                                                                        <i className=\"bi bi-plus\"></i>\n                                                                        &nbsp;\n                                                                        Add Cash Discount\n                                                                    </button>\n                                                                </li>\n                                                                <li>\n                                                                    <button className=\"dropdown-item\" onClick={() => {\n                                                                        openPurchasePaymentCreateForm(purchase);\n                                                                    }}>\n                                                                        <i className=\"bi bi-plus\"></i>\n                                                                        &nbsp;\n                                                                        Add Payment\n                                                                    </button>\n                                                                </li>\n                                                            </ul>\n                                                        </td>\n                                                    </tr>\n                                                ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n\n                                {totalPages ? <ReactPaginate\n                                    breakLabel=\"...\"\n                                    nextLabel=\"next >\"\n                                    onPageChange={(event) => {\n                                        changePage(event.selected + 1);\n                                    }}\n                                    pageRangeDisplayed={5}\n                                    pageCount={totalPages}\n                                    previousLabel=\"< previous\"\n                                    renderOnZeroPageCount={null}\n                                    className=\"pagination\"\n                                    pageClassName=\"page-item\"\n                                    pageLinkClassName=\"page-link\"\n                                    activeClassName=\"active\"\n                                    previousClassName=\"page-item\"\n                                    nextClassName=\"page-item\"\n                                    previousLinkClassName=\"page-link\"\n                                    nextLinkClassName=\"page-link\"\n                                    forcePage={page - 1}\n                                /> : \"\"}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default PurchaseIndex;\n"]},"metadata":{},"sourceType":"module"}