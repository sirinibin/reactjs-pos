{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef,forwardRef}from\"react\";import OrderCreate from\"./create.js\";import OrderView from\"./view.js\";import SalesPaymentIndex from\"./../sales_payment/index.js\";import SalesReturnIndex from\"./../sales_return/index.js\";import SalesReturnCreate from\"./../sales_return/create.js\";import Cookies from\"universal-cookie\";import{Typeahead}from\"react-bootstrap-typeahead\";import{format}from\"date-fns\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import{Button,Spinner,Badge,Modal}from\"react-bootstrap\";import ReactPaginate from\"react-paginate\";import NumberFormat from\"react-number-format\";import ReactExport from'react-data-export';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExcelFile=ReactExport.ExcelFile;var ExcelSheet=ReactExport.ExcelFile.ExcelSheet;var OrderIndex=/*#__PURE__*/forwardRef(function(props,ref){var cookies=new Cookies();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allOrders=_useState2[0],setAllOrders=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),excelData=_useState4[0],setExcelData=_useState4[1];var _useState5=useState(\"Sales Report\"),_useState6=_slicedToArray(_useState5,2),salesReportFileName=_useState6[0],setSalesReportFileName=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),fettingAllRecordsInProgress=_useState8[0],setFettingAllRecordsInProgress=_useState8[1];function prepareExcelData(){console.log(\"Inside prepareExcelData()\");var groupedByDate=[];for(var i=0;i<allOrders.length;i++){var date=format(new Date(allOrders[i].date),\"dd-MMM-yyyy\");if(!groupedByDate[date]){groupedByDate[date]=[];}groupedByDate[date].push(allOrders[i]);}console.log(\"groupedByDate:\",groupedByDate);excelData=[{columns:[{title:\"Description\",width:{wch:50}},//pixels width \n{title:\"Quantity\",width:{wpx:90}},//char width \n{title:\"Unit\",width:{wpx:90}},{title:\"Rate\",width:{wpx:90}},{title:\"Gross\",width:{wpx:90}},{title:\"Disc %\",width:{wpx:90}},{title:\"Disc\",width:{wpx:90}},{title:\"Tax %\",width:{wpx:90}},{title:\"Tax Amount\",width:{wpx:180}},{title:\"Net Amount\",width:{wpx:90}}],data:[],filename:salesReportFileName}];var totalAmountBeforeVAT=0;var totalAmountAfterVAT=0;var totalVAT=0;var totalDiscount=0;var totalAmountAfterDiscount=0;var totalShippingFees=0;var invoiceCount=0;for(var orderDate in groupedByDate){//  console.log(\"orderDate:\", orderDate);\nexcelData[0].data.push([{value:\"Inv Date: \"+orderDate}]);var dayTotalBeforeVAT=0.00;var dayTotalAfterVAT=0.00;var dayVAT=0.00;var dayDiscount=0.00;var dayShippingFees=0.00;for(var i=0;i<groupedByDate[orderDate].length>0;i++){invoiceCount++;var order=groupedByDate[orderDate][i];excelData[0].data.push([{value:\"Inv No (\"+order.code+\") - \"+invoiceCount}]);excelData[0].data.push([{value:\"Customer: \"+order.customer_name}]);if(order.customer&&order.customer.vat_no){excelData[0].data.push([{value:\"Customer VAT NO.: \"+order.customer.vat_no}]);}else{excelData[0].data.push([{value:\"Customer VAT NO.: N/A\"}]);}if(!order.products){continue;}for(var j=0;j<order.products.length;j++){var product=order.products[j];excelData[0].data.push([{value:product.name},{value:product.quantity.toFixed(2)},{value:product.unit?product.unit:\"PCs\"},{value:product.unit_price?product.unit_price.toFixed(2):0.00},{value:(product.unit_price*product.quantity).toFixed(2)},{value:\"0.00\"},{value:\"0.00\"},{value:\"15.00\"},{value:((product.unit_price*product.quantity).toFixed(2)*0.15).toFixed(2)},{value:(product.unit_price*product.quantity).toFixed(2)}]);}excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Shipping/Handling Fees\"},{value:order.shipping_handling_fees.toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Total Amount Before VAT\"},{value:(order.total+order.shipping_handling_fees).toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Discount\"},{value:order.discount.toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Total Amount After Discount\"},{value:(order.total+order.shipping_handling_fees-order.discount).toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"VAT Amount\"},{value:order.vat_price.toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Total Amount After VAT\"},{value:(order.total+order.shipping_handling_fees-order.discount+order.vat_price).toFixed(2)}]);dayVAT+=order.vat_price;dayTotalBeforeVAT+=order.total+order.shipping_handling_fees-order.discount;dayTotalAfterVAT+=order.total+order.shipping_handling_fees-order.discount+order.vat_price;dayDiscount+=order.discount;dayShippingFees+=order.shipping_handling_fees;}excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Day Total Before VAT\"},{value:dayTotalBeforeVAT.toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Day VAT\"},{value:dayVAT.toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Day Total After VAT\"},{value:dayTotalAfterVAT.toFixed(2)}]);totalAmountBeforeVAT+=dayTotalBeforeVAT;totalAmountAfterVAT+=dayTotalAfterVAT;totalVAT+=dayVAT;}//end for1\nexcelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Total Amount Before VAT\"},{value:totalAmountBeforeVAT.toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Total VAT\"},{value:totalVAT.toFixed(2)}]);excelData[0].data.push([{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"\"},{value:\"Total Amount After VAT\"},{value:totalAmountAfterVAT.toFixed(2)}]);setExcelData(excelData);console.log(\"excelData:\",excelData);}function makeSalesReportFilename(){salesReportFileName=\"Sales Report\";if(searchParams[\"created_at_from\"]&&searchParams[\"created_at_to\"]){salesReportFileName+=\" - From \"+searchParams[\"created_at_from\"]+\" to \"+searchParams[\"created_at_to\"];}else if(searchParams[\"created_at_from\"]){salesReportFileName+=\" - From \"+searchParams[\"created_at_from\"]+\" to \"+format(new Date(),\"dd-MMM-yyyy\");}else if(searchParams[\"created_at_to\"]){salesReportFileName+=\" - Upto \"+searchParams[\"created_at_to\"];}else if(searchParams[\"created_at\"]){salesReportFileName+=\" of \"+searchParams[\"created_at\"];}setSalesReportFileName(salesReportFileName);}function getAllOrders(){return _getAllOrders.apply(this,arguments);}//list\nfunction _getAllOrders(){_getAllOrders=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var requestOptions,Select,d,diff,queryParams,size,orders,pageNo,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:requestOptions={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:cookies.get(\"access_token\")}};Select=\"select=id,code,date,total,net_total,shipping_handling_fees,discount_percent,discount,products,customer_name,created_at,vat_price,customer_id,customer.id,customer.vat_no\";if(cookies.get(\"store_id\")){searchParams.store_id=cookies.get(\"store_id\");}d=new Date();diff=d.getTimezoneOffset();console.log(\"Timezone:\",parseFloat(diff/60));searchParams[\"timezone_offset\"]=parseFloat(diff/60);searchParams[\"stats\"]=\"1\";setSearchParams(searchParams);queryParams=ObjectToSearchQueryParams(searchParams);if(queryParams!==\"\"){queryParams=\"&\"+queryParams;}size=500;orders=[];pageNo=1;makeSalesReportFilename();case 15:if(!true){_context3.next=27;break;}fettingAllRecordsInProgress=true;setFettingAllRecordsInProgress(true);_context3.next=20;return fetch(\"/v1/order?\"+Select+queryParams+\"&sort=\"+sortOrder+sortField+\"&page=\"+pageNo+\"&limit=\"+size,requestOptions).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response){var _response$headers$get2;var isJson,data,error;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:isJson=(_response$headers$get2=response.headers.get(\"content-type\"))===null||_response$headers$get2===void 0?void 0:_response$headers$get2.includes(\"application/json\");_context2.t0=isJson;if(!_context2.t0){_context2.next=6;break;}_context2.next=5;return response.json();case 5:_context2.t0=_context2.sent;case 6:data=_context2.t0;if(response.ok){_context2.next=10;break;}error=data&&data.errors;return _context2.abrupt(\"return\",Promise.reject(error));case 10:setIsListLoading(false);if(!(!data.result||data.result.length===0)){_context2.next=13;break;}return _context2.abrupt(\"return\",[]);case 13:return _context2.abrupt(\"return\",data.result);case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4){return _ref2.apply(this,arguments);};}()).catch(function(error){console.log(error);return[];//break;\n});case 20:res=_context3.sent;if(!(res.length===0)){_context3.next=23;break;}return _context3.abrupt(\"break\",27);case 23:orders=orders.concat(res);pageNo++;case 25:_context3.next=15;break;case 27:allOrders=orders;setAllOrders(orders);console.log(\"allOrders:\",allOrders);prepareExcelData();fettingAllRecordsInProgress=false;setFettingAllRecordsInProgress(false);case 33:case\"end\":return _context3.stop();}}},_callee3);}));return _getAllOrders.apply(this,arguments);}var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),orderList=_useState10[0],setOrderList=_useState10[1];//pagination\nvar _useState11=useState(5),_useState12=_slicedToArray(_useState11,2),pageSize=_useState12[0],setPageSize=_useState12[1];var _useState13=useState(1),_useState14=_slicedToArray(_useState13,2),page=_useState14[0],setPage=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),totalPages=_useState16[0],setTotalPages=_useState16[1];var _useState17=useState(1),_useState18=_slicedToArray(_useState17,2),totalItems=_useState18[0],setTotalItems=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),currentPageItemsCount=_useState20[0],setCurrentPageItemsCount=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),offset=_useState22[0],setOffset=_useState22[1];//Date filter\nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),showDateRange=_useState24[0],setShowDateRange=_useState24[1];var selectedDate=new Date();var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),dateValue=_useState26[0],setDateValue=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),fromDateValue=_useState28[0],setFromDateValue=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),toDateValue=_useState30[0],setToDateValue=_useState30[1];//Created At filter\nvar _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),showCreatedAtDateRange=_useState32[0],setShowCreatedAtDateRange=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),createdAtValue=_useState34[0],setCreatedAtValue=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),createdAtFromValue=_useState36[0],setCreatedAtFromValue=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),createdAtToValue=_useState38[0],setCreatedAtToValue=_useState38[1];//loader flag\nvar _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),isListLoading=_useState40[0],setIsListLoading=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),isRefreshInProcess=_useState42[0],setIsRefreshInProcess=_useState42[1];//Customer Auto Suggestion\nvar _useState43=useState([]),_useState44=_slicedToArray(_useState43,2),customerOptions=_useState44[0],setCustomerOptions=_useState44[1];var _useState45=useState([]),_useState46=_slicedToArray(_useState45,2),selectedCustomers=_useState46[0],setSelectedCustomers=_useState46[1];//Created By User Auto Suggestion\nvar _useState47=useState([]),_useState48=_slicedToArray(_useState47,2),userOptions=_useState48[0],setUserOptions=_useState48[1];var _useState49=useState([]),_useState50=_slicedToArray(_useState49,2),selectedCreatedByUsers=_useState50[0],setSelectedCreatedByUsers=_useState50[1];//Status Auto Suggestion\nvar statusOptions=[{id:\"sent\",name:\"Sent\"},{id:\"pending\",name:\"Pending\"},{id:\"accepted\",name:\"Accepted\"},{id:\"rejected\",name:\"Rejected\"},{id:\"cancelled\",name:\"Cancelled\"},{id:\"deleted\",name:\"Deleted\"}];var _useState51=useState([]),_useState52=_slicedToArray(_useState51,2),selectedStatusList=_useState52[0],setSelectedStatusList=_useState52[1];//Payment Status Auto Suggestion\nvar paymentStatusOptions=[{id:\"paid\",name:\"Paid\"},{id:\"not_paid\",name:\"Not Paid\"},{id:\"paid_partially\",name:\"Paid partially\"}];var _useState53=useState([]),_useState54=_slicedToArray(_useState53,2),selectedPaymentStatusList=_useState54[0],setSelectedPaymentStatusList=_useState54[1];var paymentMethodOptions=[{id:\"cash\",name:\"cash\"},{id:\"bank_account\",name:\"Bank Account / Debit / Credit card\"},{id:\"customer_account\",name:\"Customer account\"}];var _useState55=useState([]),_useState56=_slicedToArray(_useState55,2),selectedPaymentMethodList=_useState56[0],setSelectedPaymentMethodList=_useState56[1];useEffect(function(){list();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);//Search params\nvar _useState57=useState({}),_useState58=_slicedToArray(_useState57,2),searchParams=_useState58[0],setSearchParams=_useState58[1];var _useState59=useState(\"created_at\"),_useState60=_slicedToArray(_useState59,2),sortField=_useState60[0],setSortField=_useState60[1];var _useState61=useState(\"-\"),_useState62=_slicedToArray(_useState61,2),sortOrder=_useState62[0],setSortOrder=_useState62[1];var _useState63=useState(0.00),_useState64=_slicedToArray(_useState63,2),totalSales=_useState64[0],setTotalSales=_useState64[1];var _useState65=useState(0.00),_useState66=_slicedToArray(_useState65,2),netProfit=_useState66[0],setNetProfit=_useState66[1];var _useState67=useState(0.00),_useState68=_slicedToArray(_useState67,2),vatPrice=_useState68[0],setVatPrice=_useState68[1];var _useState69=useState(0.00),_useState70=_slicedToArray(_useState69,2),totalShippingHandlingFees=_useState70[0],setTotalShippingHandlingFees=_useState70[1];var _useState71=useState(0.00),_useState72=_slicedToArray(_useState71,2),totalDiscount=_useState72[0],setTotalDiscount=_useState72[1];var _useState73=useState(0.00),_useState74=_slicedToArray(_useState73,2),totalCashDiscount=_useState74[0],setTotalCashDiscount=_useState74[1];var _useState75=useState(0.00),_useState76=_slicedToArray(_useState75,2),totalPaidSales=_useState76[0],setTotalPaidSales=_useState76[1];var _useState77=useState(0.00),_useState78=_slicedToArray(_useState77,2),totalUnPaidSales=_useState78[0],setTotalUnPaidSales=_useState78[1];var _useState79=useState(0.00),_useState80=_slicedToArray(_useState79,2),totalCashSales=_useState80[0],setTotalCashSales=_useState80[1];var _useState81=useState(0.00),_useState82=_slicedToArray(_useState81,2),totalBankAccountSales=_useState82[0],setTotalBankAccountSales=_useState82[1];var _useState83=useState(0.00),_useState84=_slicedToArray(_useState83,2),loss=_useState84[0],setLoss=_useState84[1];function ObjectToSearchQueryParams(object){return Object.keys(object).map(function(key){return\"search[\".concat(key,\"]=\").concat(object[key]);}).join(\"&\");}function suggestCustomers(_x){return _suggestCustomers.apply(this,arguments);}function _suggestCustomers(){_suggestCustomers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(searchTerm){var params,queryString,requestOptions,Select,result,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(\"Inside handle suggestCustomers\");params={name:searchTerm};queryString=ObjectToSearchQueryParams(params);if(queryString!==\"\"){queryString=\"&\".concat(queryString);}requestOptions={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:cookies.get(\"access_token\")}};Select=\"select=id,name,phone,name_in_arabic,phone_in_arabic,search_label\";_context4.next=8;return fetch(\"/v1/customer?\".concat(Select).concat(queryString),requestOptions);case 8:result=_context4.sent;_context4.next=11;return result.json();case 11:data=_context4.sent;setCustomerOptions(data.result);case 13:case\"end\":return _context4.stop();}}},_callee4);}));return _suggestCustomers.apply(this,arguments);}function suggestUsers(_x2){return _suggestUsers.apply(this,arguments);}function _suggestUsers(){_suggestUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(searchTerm){var params,queryString,requestOptions,Select,result,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log(\"Inside handle suggestUsers\");setCustomerOptions([]);console.log(\"searchTerm:\"+searchTerm);if(searchTerm){_context5.next=5;break;}return _context5.abrupt(\"return\");case 5:params={name:searchTerm};queryString=ObjectToSearchQueryParams(params);if(queryString!==\"\"){queryString=\"&\"+queryString;}requestOptions={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:cookies.get(\"access_token\")}};Select=\"select=id,name\";_context5.next=12;return fetch(\"/v1/user?\"+Select+queryString,requestOptions);case 12:result=_context5.sent;_context5.next=15;return result.json();case 15:data=_context5.sent;setUserOptions(data.result);case 17:case\"end\":return _context5.stop();}}},_callee5);}));return _suggestUsers.apply(this,arguments);}function searchByFieldValue(field,value){searchParams[field]=value;page=1;setPage(page);list();}function searchByDateField(field,value){if(!value){searchParams[field]=\"\";page=1;setPage(page);list();return;}if(value){var d=new Date(value);value=format(d,\"MMM dd yyyy\");console.log(\"value2:\",value);console.log(Intl.DateTimeFormat().resolvedOptions().timeZone);}else{value=\"\";}if(field===\"date_str\"){setDateValue(value);setFromDateValue(\"\");setToDateValue(\"\");searchParams[\"from_date\"]=\"\";searchParams[\"to_date\"]=\"\";searchParams[field]=value;}else if(field===\"from_date\"){setFromDateValue(value);setDateValue(\"\");searchParams[\"date\"]=\"\";searchParams[field]=value;}else if(field===\"to_date\"){setToDateValue(value);setDateValue(\"\");searchParams[\"date\"]=\"\";searchParams[field]=value;}else if(field===\"created_at\"){setCreatedAtValue(value);setCreatedAtFromValue(\"\");setCreatedAtToValue(\"\");searchParams[\"created_at_from\"]=\"\";searchParams[\"created_at_to\"]=\"\";searchParams[field]=value;console.log(\"searchParams[field]:\",searchParams[field]);}if(field===\"created_at_from\"){setCreatedAtFromValue(value);setCreatedAtValue(\"\");searchParams[\"created_at\"]=\"\";searchParams[field]=value;}else if(field===\"created_at_to\"){setCreatedAtToValue(value);setCreatedAtValue(\"\");searchParams[\"created_at\"]=\"\";searchParams[field]=value;}page=1;setPage(page);list();}function searchByMultipleValuesField(field,values){if(field===\"created_by\"){setSelectedCreatedByUsers(values);}else if(field===\"customer_id\"){setSelectedCustomers(values);}else if(field===\"status\"){setSelectedStatusList(values);}else if(field===\"payment_status\"){setSelectedPaymentStatusList(values);}else if(field===\"payment_methods\"){setSelectedPaymentMethodList(values);}searchParams[field]=Object.values(values).map(function(model){return model.id;}).join(\",\");page=1;setPage(page);list();}function list(){excelData=[];setExcelData(excelData);var requestOptions={method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:cookies.get(\"access_token\")}};var Select=\"select=id,code,date,net_total,return_count,cash_discount,total_payment_received,payments_count,payment_methods,balance_amount,discount_percent,discount,created_by_name,customer_name,status,payment_status,payment_method,created_at,loss,net_loss,net_profit,store_id,total\";if(cookies.get(\"store_id\")){searchParams.store_id=cookies.get(\"store_id\");}var d=new Date();var diff=d.getTimezoneOffset();console.log(\"Timezone:\",parseFloat(diff/60));searchParams[\"timezone_offset\"]=parseFloat(diff/60);searchParams[\"stats\"]=\"1\";setSearchParams(searchParams);var queryParams=ObjectToSearchQueryParams(searchParams);if(queryParams!==\"\"){queryParams=\"&\"+queryParams;}setIsListLoading(true);fetch(\"/v1/order?\"+Select+queryParams+\"&sort=\"+sortOrder+sortField+\"&page=\"+page+\"&limit=\"+pageSize,requestOptions).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var _response$headers$get;var isJson,data,error,pageCount;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:isJson=(_response$headers$get=response.headers.get(\"content-type\"))===null||_response$headers$get===void 0?void 0:_response$headers$get.includes(\"application/json\");_context.t0=isJson;if(!_context.t0){_context.next=6;break;}_context.next=5;return response.json();case 5:_context.t0=_context.sent;case 6:data=_context.t0;if(response.ok){_context.next=10;break;}error=data&&data.errors;return _context.abrupt(\"return\",Promise.reject(error));case 10:setIsListLoading(false);setIsRefreshInProcess(false);setOrderList(data.result);pageCount=parseInt((data.total_count+pageSize-1)/pageSize);setTotalPages(pageCount);setTotalItems(data.total_count);setOffset((page-1)*pageSize);setCurrentPageItemsCount(data.result.length);totalSales=data.meta.total_sales;setTotalSales(totalSales);netProfit=data.meta.net_profit;setNetProfit(netProfit);loss=data.meta.net_loss;setLoss(loss);vatPrice=data.meta.vat_price;setVatPrice(vatPrice);totalShippingHandlingFees=data.meta.shipping_handling_fees;setTotalShippingHandlingFees(totalShippingHandlingFees);totalDiscount=data.meta.discount;setTotalDiscount(totalDiscount);totalCashDiscount=data.meta.cash_discount;setTotalCashDiscount(totalCashDiscount);totalPaidSales=data.meta.paid_sales;setTotalPaidSales(totalPaidSales);totalUnPaidSales=data.meta.unpaid_sales;setTotalUnPaidSales(totalUnPaidSales);totalCashSales=data.meta.cash_sales;setTotalCashSales(totalCashSales);totalBankAccountSales=data.meta.bank_account_sales;setTotalBankAccountSales(totalBankAccountSales);case 40:case\"end\":return _context.stop();}}},_callee);}));return function(_x3){return _ref.apply(this,arguments);};}()).catch(function(error){setIsListLoading(false);setIsRefreshInProcess(false);console.log(error);});}function sort(field){sortField=field;setSortField(sortField);sortOrder=sortOrder===\"-\"?\"\":\"-\";setSortOrder(sortOrder);list();}function changePageSize(size){pageSize=parseInt(size);setPageSize(pageSize);list();}function changePage(newPage){page=parseInt(newPage);setPage(page);list();}var _useState85=useState(false),_useState86=_slicedToArray(_useState85,2),showOrderPaymentHistory=_useState86[0],setShowOrderPaymentHistory=_useState86[1];var _useState87=useState({}),_useState88=_slicedToArray(_useState87,2),selectedOrder=_useState88[0],setSelectedOrder=_useState88[1];function openOrderPaymentsDialogue(order){setSelectedOrder(order);showOrderPaymentHistory=true;setShowOrderPaymentHistory(true);}function handleOrderPaymentHistoryClose(){showOrderPaymentHistory=false;setShowOrderPaymentHistory(false);//list();\n}var _useState89=useState(false),_useState90=_slicedToArray(_useState89,2),showOrderReturns=_useState90[0],setShowOrderReturns=_useState90[1];function openOrderReturnsDialogue(order){setSelectedOrder(order);showOrderReturns=true;setShowOrderReturns(true);}function handleOrderReturnsClose(){showOrderReturns=false;setShowOrderReturns(false);}var DetailsViewRef=useRef();function openDetailsView(id){DetailsViewRef.current.open(id);}var CreateFormRef=useRef();function openCreateForm(){CreateFormRef.current.open();}function openUpdateForm(id){CreateFormRef.current.open(id);}//Cash Discounts\nvar SalesCashDiscountCreateRef=useRef();function openSalesCashDiscountCreateForm(order){SalesCashDiscountCreateRef.current.open(undefined,order);}var SalesCashDiscountDetailsViewRef=useRef();function openSalesCashDiscountDetailsView(id){SalesCashDiscountDetailsViewRef.current.open(id);}function openSalesCashDiscountUpdateForm(id){SalesCashDiscountCreateRef.current.open(id);}var SalesReturnListRef=useRef();//Sales Payments\nvar SalesPaymentListRef=useRef();function openSalesPaymentList(order){// SalesPaymentListRef.current.open(undefined, order);\n}//Sales Return\nvar SalesReturnCreateRef=useRef();function openSalesReturnCreateForm(id){SalesReturnCreateRef.current.open(undefined,id);}/*\n     const SalesReturnCreateRef = useRef();\n     function openSalesReturnCreateForm(order) {\n         SalesReturnCreateRef.current.open(undefined, order);\n     }\n     */var SalesReturnDetailsViewRef=useRef();function openSalesReturnDetailsView(id){SalesReturnDetailsViewRef.current.open(id);}function openSalesReturnUpdateForm(id){SalesReturnCreateRef.current.open(id);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(OrderCreate,{ref:CreateFormRef,refreshList:list,showToastMessage:props.showToastMessage,openCreateForm:openCreateForm}),/*#__PURE__*/_jsx(OrderView,{ref:DetailsViewRef,openCreateForm:openCreateForm}),/*#__PURE__*/_jsx(SalesReturnCreate,{ref:SalesReturnCreateRef,showToastMessage:props.showToastMessage,refreshSalesList:list}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Sales: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalSales.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Paid Sales: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalPaidSales.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h4\",{className:\"text-end\",children:[\"Cash Sales: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalCashSales.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h4\",{className:\"text-end\",children:[\"Bank Account Sales: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalBankAccountSales.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Credit Sales: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalUnPaidSales.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Cash Discounts: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalCashDiscount.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Sales Discounts: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalDiscount.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Shipping/Handling fees: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:totalShippingHandlingFees.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"VAT Collected: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:vatPrice.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}),cookies.get('admin')===\"true\"?/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Net Profit: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:netProfit.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}):\"\",cookies.get('admin')===\"true\"?/*#__PURE__*/_jsxs(\"h1\",{className:\"text-end\",children:[\"Loss: \",/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:/*#__PURE__*/_jsx(NumberFormat,{value:loss.toFixed(2),displayType:\"text\",thousandSeparator:true,suffix:\" \",renderText:function renderText(value,props){return value;}})})]}):\"\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"h3\",children:\"Sales Orders123-123\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col text-end\",children:[/*#__PURE__*/_jsx(ExcelFile,{filename:salesReportFileName,element:excelData.length>0?/*#__PURE__*/_jsx(Button,{variant:\"success\",className:\"btn btn-primary mb-3 success\",children:\"Download Sales Report\"}):\"\",children:/*#__PURE__*/_jsx(ExcelSheet,{dataSet:excelData,name:salesReportFileName})}),excelData.length==0?/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"btn btn-primary mb-3\",onClick:getAllOrders,children:fettingAllRecordsInProgress?\"Preparing..\":\"Sales Report\"}):\"\",\"\\xA0\\xA0\",/*#__PURE__*/_jsxs(Button,{hide:true.toString(),variant:\"primary\",className:\"btn btn-primary mb-3\",onClick:openCreateForm,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-lg\"}),\" Create\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:totalItems===0&&/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-start\",children:\"No Orders to display\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{border:\"solid 0px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col text-start\",style:{border:\"solid 0px\"},children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){setIsRefreshInProcess(true);list();},variant:\"primary\",disabled:isRefreshInProcess,children:[isRefreshInProcess?/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":true}):/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-refresh\"}),/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-center\",children:isListLoading&&/*#__PURE__*/_jsx(Spinner,{animation:\"grow\",variant:\"primary\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-end\",children:totalItems>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Size:\\xA0\"}),/*#__PURE__*/_jsxs(\"select\",{value:pageSize,onChange:function onChange(e){changePageSize(e.target.value);},className:\"form-control pull-right\",style:{border:\"solid 1px\",borderColor:\"silver\",width:\"55px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"20\",children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:\"40\",children:\"40\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"100\"})]})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",style:{border:\"solid 0px\",width:\"100%\"},children:totalPages?/*#__PURE__*/_jsx(ReactPaginate,{breakLabel:\"...\",nextLabel:\"next >\",onPageChange:function onPageChange(event){changePage(event.selected+1);},pageRangeDisplayed:5,pageCount:totalPages,previousLabel:\"< previous\",renderOnZeroPageCount:null,className:\"pagination  flex-wrap\",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",activeClassName:\"active\",previousClassName:\"page-item\",nextClassName:\"page-item\",previousLinkClassName:\"page-link\",nextLinkClassName:\"page-link\",forcePage:page-1}):\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:totalItems>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col text-start\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-start\",children:[\"showing \",offset+1,\"-\",offset+currentPageItemsCount,\" of\",\" \",totalItems]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-end\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-end\",children:[\"page \",page,\" of \",totalPages]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",style:{overflowX:\"auto\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-sm table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"code\");},children:[\"ID\",sortField===\"code\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"code\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"date\");},children:[\"Date\",sortField===\"date\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-down\"}):null,sortField===\"date\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"net_total\");},children:[\"Net Total\",sortField===\"net_total\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"net_total\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"cash_discount\");},children:[\"Cash Discount\",sortField===\"cash_discount\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"cash_discount\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"total_payment_received\");},children:[\"Amount Paid\",sortField===\"total_payment_received\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"total_payment_received\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"balance_amount\");},children:[\"Balance\",sortField===\"balance_amount\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"balance_amount\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"payments_count\");},children:[\"No.of Payments\",sortField===\"payments_count\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"payments_count\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"payment_status\");},children:[\"Payment Status\",sortField===\"payment_status\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"payment_status\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"payment_methods\");},children:[\"Payment Methods\",sortField===\"payment_methods\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"payment_methods\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"discount\");},children:[\"Sales Discount\",sortField===\"discount\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"discount\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"discount_percent\");},children:[\"Sales Discount %\",sortField===\"discount_percent\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"discount_percent\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"net_profit\");},children:[\"Net Profit\",sortField===\"net_profit\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"net_profit\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}):\"\",cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"net_loss\");},children:[\"Net Loss\",sortField===\"net_loss\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"net_loss\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}):\"\",/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"created_by\");},children:[\"Created By\",sortField===\"created_by\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"created_by\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"return_count\");},children:[\"Returns\",sortField===\"return_count\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-down\"}):null,sortField===\"return_count\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-numeric-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"customer_name\");},children:[\"Customer\",sortField===\"customer_name\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up-alt\"}):null,sortField===\"customer_name\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-alpha-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"b\",{style:{textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(){sort(\"created_at\");},children:[\"Created At\",sortField===\"created_at\"&&sortOrder===\"-\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-down\"}):null,sortField===\"created_at\"&&sortOrder===\"\"?/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-sort-up\"}):null]})}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"code\",onChange:function onChange(e){return searchByFieldValue(\"code\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsxs(\"th\",{children:[/*#__PURE__*/_jsx(DatePicker,{id:\"date_str\",value:dateValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setDateValue(\"\");searchByDateField(\"date_str\",\"\");return;}searchByDateField(\"date_str\",date);}}),/*#__PURE__*/_jsx(\"small\",{style:{color:\"blue\",textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(e){return setShowDateRange(!showDateRange);},children:showDateRange?\"Less..\":\"More..\"}),/*#__PURE__*/_jsx(\"br\",{}),showDateRange?/*#__PURE__*/_jsxs(\"span\",{className:\"text-left\",children:[\"From:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"from_date\",value:fromDateValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setFromDateValue(\"\");searchByDateField(\"from_date\",\"\");return;}searchByDateField(\"from_date\",date);}}),\"To:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"to_date\",value:toDateValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setToDateValue(\"\");searchByDateField(\"to_date\",\"\");return;}searchByDateField(\"to_date\",date);}})]}):null]}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"net_total\",onChange:function onChange(e){return searchByFieldValue(\"net_total\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cash_discount\",onChange:function onChange(e){return searchByFieldValue(\"cash_discount\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"total_payment_received\",onChange:function onChange(e){return searchByFieldValue(\"total_payment_received\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"balance_amount\",onChange:function onChange(e){return searchByFieldValue(\"balance_amount\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"payments_count\",onChange:function onChange(e){return searchByFieldValue(\"payments_count\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Typeahead,{id:\"payment_status\",labelKey:\"name\",onChange:function onChange(selectedItems){searchByMultipleValuesField(\"payment_status\",selectedItems);},options:paymentStatusOptions,placeholder:\"Select Payment Status\",selected:selectedPaymentStatusList,highlightOnlyResult:true,multiple:true})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Typeahead,{id:\"payment_methods\",labelKey:\"name\",onChange:function onChange(selectedItems){searchByMultipleValuesField(\"payment_methods\",selectedItems);},options:paymentMethodOptions,placeholder:\"Select payment methods\",selected:selectedPaymentMethodList,highlightOnlyResult:true,multiple:true})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"discount\",onChange:function onChange(e){return searchByFieldValue(\"discount\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"discount_percent\",onChange:function onChange(e){return searchByFieldValue(\"discount_percent\",e.target.value);},className:\"form-control\"})}),cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"net_profit\",onChange:function onChange(e){return searchByFieldValue(\"net_profit\",e.target.value);},className:\"form-control\"})}):\"\",cookies.get('admin')===\"true\"?/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"net_loss\",onChange:function onChange(e){return searchByFieldValue(\"net_loss\",e.target.value);},className:\"form-control\"})}):\"\",/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Typeahead,{id:\"created_by\",labelKey:\"name\",onChange:function onChange(selectedItems){searchByMultipleValuesField(\"created_by\",selectedItems);},options:userOptions,placeholder:\"Select Users\",selected:selectedCreatedByUsers,highlightOnlyResult:true,onInputChange:function onInputChange(searchTerm,e){suggestUsers(searchTerm);},multiple:true})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"return_count\",onChange:function onChange(e){return searchByFieldValue(\"return_count\",e.target.value);},className:\"form-control\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Typeahead,{id:\"customer_id\",labelKey:\"search_label\",onChange:function onChange(selectedItems){searchByMultipleValuesField(\"customer_id\",selectedItems);},options:customerOptions,placeholder:\"name or mob\",selected:selectedCustomers,highlightOnlyResult:true,onInputChange:function onInputChange(searchTerm,e){suggestCustomers(searchTerm);},multiple:true})}),/*#__PURE__*/_jsxs(\"th\",{children:[/*#__PURE__*/_jsx(DatePicker,{id:\"created_at\",value:createdAtValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){//  createdAtValue = \"\";\nsetCreatedAtValue(\"\");searchByDateField(\"created_at\",\"\");return;}searchByDateField(\"created_at\",date);}}),/*#__PURE__*/_jsx(\"small\",{style:{color:\"blue\",textDecoration:\"underline\",cursor:\"pointer\"},onClick:function onClick(e){return setShowCreatedAtDateRange(!showCreatedAtDateRange);},children:showCreatedAtDateRange?\"Less..\":\"More..\"}),/*#__PURE__*/_jsx(\"br\",{}),showCreatedAtDateRange?/*#__PURE__*/_jsxs(\"span\",{className:\"text-left\",children:[\"From:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"created_at_from\",value:createdAtFromValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setCreatedAtFromValue(\"\");searchByDateField(\"created_at_from\",\"\");return;}searchByDateField(\"created_at_from\",date);}}),\"To:\",\" \",/*#__PURE__*/_jsx(DatePicker,{id:\"created_at_to\",value:createdAtToValue,selected:selectedDate,className:\"form-control\",dateFormat:\"MMM dd yyyy\",onChange:function onChange(date){if(!date){setCreatedAtToValue(\"\");searchByDateField(\"created_at_to\",\"\");return;}searchByDateField(\"created_at_to\",date);}})]}):null]}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"150px\"}})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"text-center\",children:orderList&&orderList.map(function(order){var _order$net_total,_order$cash_discount,_order$total_payment_,_order$balance_amount,_order$net_profit,_order$net_loss;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order.code}),/*#__PURE__*/_jsx(\"td\",{children:format(new Date(order.date),\"MMM dd yyyy h:mma\")}),/*#__PURE__*/_jsx(\"td\",{children:(_order$net_total=order.net_total)===null||_order$net_total===void 0?void 0:_order$net_total.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:(_order$cash_discount=order.cash_discount)===null||_order$cash_discount===void 0?void 0:_order$cash_discount.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"link\",onClick:function onClick(){openOrderPaymentsDialogue(order);},children:(_order$total_payment_=order.total_payment_received)===null||_order$total_payment_===void 0?void 0:_order$total_payment_.toFixed(2)})}),/*#__PURE__*/_jsx(\"td\",{children:(_order$balance_amount=order.balance_amount)===null||_order$balance_amount===void 0?void 0:_order$balance_amount.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"link\",onClick:function onClick(){openOrderPaymentsDialogue(order);},children:order.payments_count})}),/*#__PURE__*/_jsxs(\"td\",{children:[order.payment_status==\"paid\"?/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-success\",children:\"Paid\"}):\"\",order.payment_status==\"paid_partially\"?/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-warning\",children:\"Paid Partially\"}):\"\",order.payment_status==\"not_paid\"?/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-danger\",children:\"Not Paid\"}):\"\"]}),/*#__PURE__*/_jsx(\"td\",{children:order.payment_methods&&order.payment_methods.map(function(name){return/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-info\",children:name});})}),/*#__PURE__*/_jsxs(\"td\",{children:[order.discount.toFixed(2),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[order.discount_percent.toFixed(2),\" %\"]}),cookies.get('admin')===\"true\"?/*#__PURE__*/_jsxs(\"td\",{children:[(_order$net_profit=order.net_profit)===null||_order$net_profit===void 0?void 0:_order$net_profit.toFixed(2),\" \"]}):\"\",cookies.get('admin')===\"true\"?/*#__PURE__*/_jsxs(\"td\",{children:[(_order$net_loss=order.net_loss)===null||_order$net_loss===void 0?void 0:_order$net_loss.toFixed(2),\" \"]}):\"\",/*#__PURE__*/_jsx(\"td\",{children:order.created_by_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"link\",onClick:function onClick(){openOrderReturnsDialogue(order);},children:order.return_count})}),/*#__PURE__*/_jsx(\"td\",{children:order.customer_name}),/*#__PURE__*/_jsx(\"td\",{children:format(new Date(order.created_at),\"MMM dd yyyy h:mma\")}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{className:\"btn btn-light btn-sm\",onClick:function onClick(){openUpdateForm(order.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil\"})}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-primary btn-sm\",onClick:function onClick(){openDetailsView(order.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-eye\"})}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-dark btn-sm\",\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"top\",title:\"Create Sales Return\",onClick:function onClick(){openSalesReturnCreateForm(order.id);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left\"}),\" Return\"]})]})]},order.code);})})]})}),totalPages?/*#__PURE__*/_jsx(ReactPaginate,{breakLabel:\"...\",nextLabel:\"next >\",onPageChange:function onPageChange(event){changePage(event.selected+1);},pageRangeDisplayed:5,pageCount:totalPages,previousLabel:\"< previous\",renderOnZeroPageCount:null,className:\"pagination  flex-wrap\",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",activeClassName:\"active\",previousClassName:\"page-item\",nextClassName:\"page-item\",previousLinkClassName:\"page-link\",nextLinkClassName:\"page-link\",forcePage:page-1}):\"\"]})})})})]}),/*#__PURE__*/_jsxs(Modal,{show:showOrderPaymentHistory,size:\"lg\",onHide:handleOrderPaymentHistoryClose,animation:false,scrollable:true,children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Payment history of Order #\",selectedOrder.code]}),/*#__PURE__*/_jsx(\"div\",{className:\"col align-self-end text-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:handleOrderPaymentHistoryClose,\"aria-label\":\"Close\"})})]}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(SalesPaymentIndex,{ref:SalesPaymentListRef,showToastMessage:props.showToastMessage,order:selectedOrder,refreshSalesList:list})})]}),/*#__PURE__*/_jsxs(Modal,{show:showOrderReturns,size:\"lg\",onHide:handleOrderReturnsClose,animation:false,scrollable:true,children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Sales Returns of Sale Order #\",selectedOrder.code]}),/*#__PURE__*/_jsx(\"div\",{className:\"col align-self-end text-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:handleOrderReturnsClose,\"aria-label\":\"Close\"})})]}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(SalesReturnIndex,{ref:SalesReturnListRef,showToastMessage:props.showToastMessage,order:selectedOrder,refreshSalesList:list})})]})]});});export default OrderIndex;","map":{"version":3,"sources":["/Users/sirin/go/src/github.com/sirinibin/reactjs-pos/src/order/index.js"],"names":["React","useState","useEffect","useRef","forwardRef","OrderCreate","OrderView","SalesPaymentIndex","SalesReturnIndex","SalesReturnCreate","Cookies","Typeahead","format","DatePicker","Button","Spinner","Badge","Modal","ReactPaginate","NumberFormat","ReactExport","ExcelFile","ExcelSheet","OrderIndex","props","ref","cookies","allOrders","setAllOrders","excelData","setExcelData","salesReportFileName","setSalesReportFileName","fettingAllRecordsInProgress","setFettingAllRecordsInProgress","prepareExcelData","console","log","groupedByDate","i","length","date","Date","push","columns","title","width","wch","wpx","data","filename","totalAmountBeforeVAT","totalAmountAfterVAT","totalVAT","totalDiscount","totalAmountAfterDiscount","totalShippingFees","invoiceCount","orderDate","value","dayTotalBeforeVAT","dayTotalAfterVAT","dayVAT","dayDiscount","dayShippingFees","order","code","customer_name","customer","vat_no","products","j","product","name","quantity","toFixed","unit","unit_price","shipping_handling_fees","total","discount","vat_price","makeSalesReportFilename","searchParams","getAllOrders","requestOptions","method","headers","Authorization","get","Select","store_id","d","diff","getTimezoneOffset","parseFloat","setSearchParams","queryParams","ObjectToSearchQueryParams","size","orders","pageNo","fetch","sortOrder","sortField","then","response","isJson","includes","json","ok","error","errors","Promise","reject","setIsListLoading","result","catch","res","concat","orderList","setOrderList","pageSize","setPageSize","page","setPage","totalPages","setTotalPages","totalItems","setTotalItems","currentPageItemsCount","setCurrentPageItemsCount","offset","setOffset","showDateRange","setShowDateRange","selectedDate","dateValue","setDateValue","fromDateValue","setFromDateValue","toDateValue","setToDateValue","showCreatedAtDateRange","setShowCreatedAtDateRange","createdAtValue","setCreatedAtValue","createdAtFromValue","setCreatedAtFromValue","createdAtToValue","setCreatedAtToValue","isListLoading","isRefreshInProcess","setIsRefreshInProcess","customerOptions","setCustomerOptions","selectedCustomers","setSelectedCustomers","userOptions","setUserOptions","selectedCreatedByUsers","setSelectedCreatedByUsers","statusOptions","id","selectedStatusList","setSelectedStatusList","paymentStatusOptions","selectedPaymentStatusList","setSelectedPaymentStatusList","paymentMethodOptions","selectedPaymentMethodList","setSelectedPaymentMethodList","list","setSortField","setSortOrder","totalSales","setTotalSales","netProfit","setNetProfit","vatPrice","setVatPrice","totalShippingHandlingFees","setTotalShippingHandlingFees","setTotalDiscount","totalCashDiscount","setTotalCashDiscount","totalPaidSales","setTotalPaidSales","totalUnPaidSales","setTotalUnPaidSales","totalCashSales","setTotalCashSales","totalBankAccountSales","setTotalBankAccountSales","loss","setLoss","object","Object","keys","map","key","join","suggestCustomers","searchTerm","params","queryString","suggestUsers","searchByFieldValue","field","searchByDateField","Intl","DateTimeFormat","resolvedOptions","timeZone","searchByMultipleValuesField","values","model","pageCount","parseInt","total_count","meta","total_sales","net_profit","net_loss","cash_discount","paid_sales","unpaid_sales","cash_sales","bank_account_sales","sort","changePageSize","changePage","newPage","showOrderPaymentHistory","setShowOrderPaymentHistory","selectedOrder","setSelectedOrder","openOrderPaymentsDialogue","handleOrderPaymentHistoryClose","showOrderReturns","setShowOrderReturns","openOrderReturnsDialogue","handleOrderReturnsClose","DetailsViewRef","openDetailsView","current","open","CreateFormRef","openCreateForm","openUpdateForm","SalesCashDiscountCreateRef","openSalesCashDiscountCreateForm","undefined","SalesCashDiscountDetailsViewRef","openSalesCashDiscountDetailsView","openSalesCashDiscountUpdateForm","SalesReturnListRef","SalesPaymentListRef","openSalesPaymentList","SalesReturnCreateRef","openSalesReturnCreateForm","SalesReturnDetailsViewRef","openSalesReturnDetailsView","openSalesReturnUpdateForm","showToastMessage","toString","border","e","target","borderColor","event","selected","overflowX","textDecoration","cursor","color","selectedItems","net_total","total_payment_received","balance_amount","payments_count","payment_status","payment_methods","discount_percent","created_by_name","return_count","created_at"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, forwardRef } from \"react\";\nimport OrderCreate from \"./create.js\";\nimport OrderView from \"./view.js\";\n\nimport SalesPaymentIndex from \"./../sales_payment/index.js\";\nimport SalesReturnIndex from \"./../sales_return/index.js\";\nimport SalesReturnCreate from \"./../sales_return/create.js\";\n\n\nimport Cookies from \"universal-cookie\";\nimport { Typeahead } from \"react-bootstrap-typeahead\";\nimport { format } from \"date-fns\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Button, Spinner, Badge, Modal } from \"react-bootstrap\";\nimport ReactPaginate from \"react-paginate\";\nimport NumberFormat from \"react-number-format\";\n\n\nimport ReactExport from 'react-data-export';\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\n\n\nconst OrderIndex = forwardRef((props, ref) => {\n\n\n    const cookies = new Cookies();\n\n\n    let [allOrders, setAllOrders] = useState([]);\n    let [excelData, setExcelData] = useState([]);\n    let [salesReportFileName, setSalesReportFileName] = useState(\"Sales Report\");\n    let [fettingAllRecordsInProgress, setFettingAllRecordsInProgress] = useState(false);\n\n    function prepareExcelData() {\n        console.log(\"Inside prepareExcelData()\");\n        var groupedByDate = [];\n        for (var i = 0; i < allOrders.length; i++) {\n            let date = format(\n                new Date(allOrders[i].date),\n                \"dd-MMM-yyyy\"\n            );\n            if (!groupedByDate[date]) {\n                groupedByDate[date] = [];\n            }\n\n            groupedByDate[date].push(allOrders[i]);\n\n        }\n\n        console.log(\"groupedByDate:\", groupedByDate);\n\n        excelData = [{\n            columns: [\n                { title: \"Description\", width: { wch: 50 } },//pixels width \n                { title: \"Quantity\", width: { wpx: 90 } },//char width \n                { title: \"Unit\", width: { wpx: 90 } },\n                { title: \"Rate\", width: { wpx: 90 } },\n                { title: \"Gross\", width: { wpx: 90 } },\n                { title: \"Disc %\", width: { wpx: 90 } },\n                { title: \"Disc\", width: { wpx: 90 } },\n                { title: \"Tax %\", width: { wpx: 90 } },\n                { title: \"Tax Amount\", width: { wpx: 180 } },\n                { title: \"Net Amount\", width: { wpx: 90 } },\n            ],\n            data: [],\n            filename: salesReportFileName,\n        }];\n\n        let totalAmountBeforeVAT = 0;\n        let totalAmountAfterVAT = 0;\n        let totalVAT = 0;\n        let totalDiscount = 0;\n        let totalAmountAfterDiscount = 0;\n        let totalShippingFees = 0;\n\n        let invoiceCount = 0;\n        for (let orderDate in groupedByDate) {\n\n          //  console.log(\"orderDate:\", orderDate);\n            excelData[0].data.push([{ value: \"Inv Date: \" + orderDate }]);\n            let dayTotalBeforeVAT = 0.00;\n            let dayTotalAfterVAT = 0.00;\n            let dayVAT = 0.00;\n            let dayDiscount = 0.00;\n            let dayShippingFees = 0.00;\n\n            for (var i = 0; i < groupedByDate[orderDate].length > 0; i++) {\n                invoiceCount++;\n                let order = groupedByDate[orderDate][i];\n                excelData[0].data.push([{ value: \"Inv No (\" + order.code + \") - \" + invoiceCount }]);\n                excelData[0].data.push([{ value: \"Customer: \" + order.customer_name }]);\n                if (order.customer && order.customer.vat_no) {\n                    excelData[0].data.push([{ value: \"Customer VAT NO.: \" + order.customer.vat_no }]);\n                } else {\n                    excelData[0].data.push([{ value: \"Customer VAT NO.: N/A\" }]);\n                }\n\n                if (!order.products) {\n                    continue;\n                }\n\n                for (var j = 0; j < order.products.length; j++) {\n\n                    let product = order.products[j];\n\n                    excelData[0].data.push([\n                        {\n                            value: product.name\n                        },\n                        {\n                            value: product.quantity.toFixed(2),\n                        },\n                        {\n                            value: product.unit ? product.unit : \"PCs\",\n                        },\n                        {\n                            value: product.unit_price ? product.unit_price.toFixed(2) : 0.00,\n                        },\n                        {\n                            value: (product.unit_price * product.quantity).toFixed(2)\n                        },\n                        {\n                            value: \"0.00\",\n                        },\n                        {\n                            value: \"0.00\",\n                        },\n                        {\n                            value: \"15.00\",\n                        },\n                        {\n                            value: ((product.unit_price * product.quantity).toFixed(2) * 0.15).toFixed(2),\n                        },\n                        {\n                            value: (product.unit_price * product.quantity).toFixed(2),\n                        },\n                    ]);\n                }\n\n                excelData[0].data.push([\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    {\n                        value: \"Shipping/Handling Fees\",\n                    }, {\n                        value: order.shipping_handling_fees.toFixed(2),\n                    },\n                ]);\n\n                excelData[0].data.push([\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    {\n                        value: \"Total Amount Before VAT\",\n                    }, {\n                        value: ((order.total + order.shipping_handling_fees)).toFixed(2),\n                    },\n                ]);\n\n                excelData[0].data.push([\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    {\n                        value: \"Discount\",\n                    }, {\n                        value: order.discount.toFixed(2),\n                    },\n                ]);\n\n                excelData[0].data.push([\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    {\n                        value: \"Total Amount After Discount\",\n                    }, {\n                        value: ((order.total + order.shipping_handling_fees) - order.discount).toFixed(2),\n                    },\n                ]);\n\n\n                excelData[0].data.push([\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    {\n                        value: \"VAT Amount\",\n                    }, {\n                        value: order.vat_price.toFixed(2),\n                    },\n                ]);\n\n\n\n                excelData[0].data.push([\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    { value: \"\", },\n                    {\n                        value: \"Total Amount After VAT\",\n                    }, {\n                        value: ((order.total + order.shipping_handling_fees) - order.discount + order.vat_price).toFixed(2),\n                    },\n                ]);\n\n\n                dayVAT += order.vat_price;\n                dayTotalBeforeVAT += (order.total + order.shipping_handling_fees) - order.discount;\n                dayTotalAfterVAT += (order.total + order.shipping_handling_fees) - order.discount + order.vat_price;\n                dayDiscount += order.discount;\n                dayShippingFees += order.shipping_handling_fees;\n\n            }\n\n            excelData[0].data.push([\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                {\n                    value: \"Day Total Before VAT\",\n                }, {\n                    value: dayTotalBeforeVAT.toFixed(2),\n                },\n            ]);\n\n            excelData[0].data.push([\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                {\n                    value: \"Day VAT\",\n                }, {\n                    value: dayVAT.toFixed(2),\n                },\n            ]);\n\n            excelData[0].data.push([\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                { value: \"\", },\n                {\n                    value: \"Day Total After VAT\",\n                }, {\n                    value: dayTotalAfterVAT.toFixed(2),\n                },\n            ]);\n\n            totalAmountBeforeVAT += dayTotalBeforeVAT;\n            totalAmountAfterVAT += dayTotalAfterVAT;\n            totalVAT += dayVAT;\n\n\n        }//end for1\n\n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"\",\n            }, {\n                value: \"\",\n            },\n        ]);\n\n\n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount Before VAT\",\n            }, {\n                value: totalAmountBeforeVAT.toFixed(2),\n            },\n        ]);\n\n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total VAT\",\n            }, {\n                value: totalVAT.toFixed(2),\n            },\n        ]);\n\n        excelData[0].data.push([\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            { value: \"\", },\n            {\n                value: \"Total Amount After VAT\",\n            }, {\n                value: totalAmountAfterVAT.toFixed(2),\n            },\n        ]);\n\n\n        setExcelData(excelData);\n\n        console.log(\"excelData:\", excelData);\n    }\n\n    function makeSalesReportFilename() {\n        salesReportFileName = \"Sales Report\";\n        if (searchParams[\"created_at_from\"] && searchParams[\"created_at_to\"]) {\n            salesReportFileName += \" - From \" + searchParams[\"created_at_from\"] + \" to \" + searchParams[\"created_at_to\"];\n        } else if (searchParams[\"created_at_from\"]) {\n            salesReportFileName += \" - From \" + searchParams[\"created_at_from\"] + \" to \" + format(\n                new Date(),\n                \"dd-MMM-yyyy\"\n            );\n        } else if (searchParams[\"created_at_to\"]) {\n            salesReportFileName += \" - Upto \" + searchParams[\"created_at_to\"];\n        } else if (searchParams[\"created_at\"]) {\n            salesReportFileName += \" of \" + searchParams[\"created_at\"];\n        }\n\n        setSalesReportFileName(salesReportFileName);\n    }\n    async function getAllOrders() {\n        const requestOptions = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: cookies.get(\"access_token\"),\n            },\n        };\n        let Select =\n            \"select=id,code,date,total,net_total,shipping_handling_fees,discount_percent,discount,products,customer_name,created_at,vat_price,customer_id,customer.id,customer.vat_no\";\n\n        if (cookies.get(\"store_id\")) {\n            searchParams.store_id = cookies.get(\"store_id\");\n        }\n\n        const d = new Date();\n        let diff = d.getTimezoneOffset();\n        console.log(\"Timezone:\", parseFloat(diff / 60));\n        searchParams[\"timezone_offset\"] = parseFloat(diff / 60);\n        searchParams[\"stats\"] = \"1\";\n\n        setSearchParams(searchParams);\n        let queryParams = ObjectToSearchQueryParams(searchParams);\n        if (queryParams !== \"\") {\n            queryParams = \"&\" + queryParams;\n        }\n\n        let size = 500;\n\n        let orders = [];\n        var pageNo = 1;\n\n        makeSalesReportFilename();\n\n        for (; true;) {\n\n            fettingAllRecordsInProgress = true;\n            setFettingAllRecordsInProgress(true);\n            let res = await fetch(\n                \"/v1/order?\" +\n                Select +\n                queryParams +\n                \"&sort=\" +\n                sortOrder +\n                sortField +\n                \"&page=\" +\n                pageNo +\n                \"&limit=\" +\n                size,\n                requestOptions\n            )\n                .then(async (response) => {\n                    const isJson = response.headers\n                        .get(\"content-type\")\n                        ?.includes(\"application/json\");\n                    const data = isJson && (await response.json());\n\n                    // check for error response\n                    if (!response.ok) {\n                        const error = data && data.errors;\n                        return Promise.reject(error);\n                    }\n\n                    setIsListLoading(false);\n                    if (!data.result || data.result.length === 0) {\n                        return [];\n                    }\n\n\n                    // console.log(\"Orders:\", orders);\n\n                    return data.result;\n\n\n                })\n                .catch((error) => {\n                    console.log(error);\n                    return [];\n                    //break;\n\n                });\n            if (res.length === 0) {\n                break;\n            }\n            orders = orders.concat(res);\n            pageNo++;\n        }\n\n        allOrders = orders;\n        setAllOrders(orders);\n\n        console.log(\"allOrders:\", allOrders);\n        prepareExcelData();\n        fettingAllRecordsInProgress = false;\n        setFettingAllRecordsInProgress(false);\n\n    }\n\n\n\n\n    //list\n    const [orderList, setOrderList] = useState([]);\n\n    //pagination\n    let [pageSize, setPageSize] = useState(5);\n    let [page, setPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(0);\n    const [totalItems, setTotalItems] = useState(1);\n    const [currentPageItemsCount, setCurrentPageItemsCount] = useState(0);\n    const [offset, setOffset] = useState(0);\n\n    //Date filter\n    const [showDateRange, setShowDateRange] = useState(false);\n    const selectedDate = new Date();\n    const [dateValue, setDateValue] = useState(\"\");\n    const [fromDateValue, setFromDateValue] = useState(\"\");\n    const [toDateValue, setToDateValue] = useState(\"\");\n\n    //Created At filter\n    const [showCreatedAtDateRange, setShowCreatedAtDateRange] = useState(false);\n    const [createdAtValue, setCreatedAtValue] = useState(\"\");\n    const [createdAtFromValue, setCreatedAtFromValue] = useState(\"\");\n    const [createdAtToValue, setCreatedAtToValue] = useState(\"\");\n\n    //loader flag\n    const [isListLoading, setIsListLoading] = useState(false);\n    const [isRefreshInProcess, setIsRefreshInProcess] = useState(false);\n\n    //Customer Auto Suggestion\n    const [customerOptions, setCustomerOptions] = useState([]);\n    const [selectedCustomers, setSelectedCustomers] = useState([]);\n\n    //Created By User Auto Suggestion\n    const [userOptions, setUserOptions] = useState([]);\n    const [selectedCreatedByUsers, setSelectedCreatedByUsers] = useState([]);\n\n    //Status Auto Suggestion\n    const statusOptions = [\n        {\n            id: \"sent\",\n            name: \"Sent\",\n        },\n        {\n            id: \"pending\",\n            name: \"Pending\",\n        },\n        {\n            id: \"accepted\",\n            name: \"Accepted\",\n        },\n        {\n            id: \"rejected\",\n            name: \"Rejected\",\n        },\n        {\n            id: \"cancelled\",\n            name: \"Cancelled\",\n        },\n        {\n            id: \"deleted\",\n            name: \"Deleted\",\n        },\n    ];\n\n    const [selectedStatusList, setSelectedStatusList] = useState([]);\n\n\n    //Payment Status Auto Suggestion\n    const paymentStatusOptions = [\n        {\n            id: \"paid\",\n            name: \"Paid\",\n        },\n        {\n            id: \"not_paid\",\n            name: \"Not Paid\",\n        },\n        {\n            id: \"paid_partially\",\n            name: \"Paid partially\",\n        },\n    ];\n    const [selectedPaymentStatusList, setSelectedPaymentStatusList] = useState([]);\n\n    const paymentMethodOptions = [\n        {\n            id: \"cash\",\n            name: \"cash\",\n        },\n        {\n            id: \"bank_account\",\n            name: \"Bank Account / Debit / Credit card\",\n        },\n        {\n            id: \"customer_account\",\n            name: \"Customer account\",\n        },\n    ];\n    const [selectedPaymentMethodList, setSelectedPaymentMethodList] = useState([]);\n\n\n    useEffect(() => {\n        list();\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    //Search params\n    const [searchParams, setSearchParams] = useState({});\n    let [sortField, setSortField] = useState(\"created_at\");\n    let [sortOrder, setSortOrder] = useState(\"-\");\n\n\n    let [totalSales, setTotalSales] = useState(0.00);\n    let [netProfit, setNetProfit] = useState(0.00);\n    let [vatPrice, setVatPrice] = useState(0.00);\n    let [totalShippingHandlingFees, setTotalShippingHandlingFees] = useState(0.00);\n    let [totalDiscount, setTotalDiscount] = useState(0.00);\n    let [totalCashDiscount, setTotalCashDiscount] = useState(0.00);\n    let [totalPaidSales, setTotalPaidSales] = useState(0.00);\n    let [totalUnPaidSales, setTotalUnPaidSales] = useState(0.00);\n    let [totalCashSales, setTotalCashSales] = useState(0.00);\n    let [totalBankAccountSales, setTotalBankAccountSales] = useState(0.00);\n\n\n    let [loss, setLoss] = useState(0.00);\n\n    function ObjectToSearchQueryParams(object) {\n        return Object.keys(object)\n            .map(function (key) {\n                return `search[${key}]=${object[key]}`;\n            })\n            .join(\"&\");\n    }\n\n    async function suggestCustomers(searchTerm) {\n        console.log(\"Inside handle suggestCustomers\");\n\n        var params = {\n            name: searchTerm,\n        };\n        var queryString = ObjectToSearchQueryParams(params);\n        if (queryString !== \"\") {\n            queryString = `&${queryString}`;\n        }\n\n        const requestOptions = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: cookies.get(\"access_token\"),\n            },\n        };\n\n        let Select = \"select=id,name,phone,name_in_arabic,phone_in_arabic,search_label\";\n        let result = await fetch(\n            `/v1/customer?${Select}${queryString}`,\n            requestOptions\n        );\n        let data = await result.json();\n\n        setCustomerOptions(data.result);\n    }\n\n    async function suggestUsers(searchTerm) {\n        console.log(\"Inside handle suggestUsers\");\n        setCustomerOptions([]);\n\n        console.log(\"searchTerm:\" + searchTerm);\n        if (!searchTerm) {\n            return;\n        }\n\n        var params = {\n            name: searchTerm,\n        };\n        var queryString = ObjectToSearchQueryParams(params);\n        if (queryString !== \"\") {\n            queryString = \"&\" + queryString;\n        }\n\n        const requestOptions = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: cookies.get(\"access_token\"),\n            },\n        };\n\n        let Select = \"select=id,name\";\n        let result = await fetch(\n            \"/v1/user?\" + Select + queryString,\n            requestOptions\n        );\n        let data = await result.json();\n\n        setUserOptions(data.result);\n    }\n\n    function searchByFieldValue(field, value) {\n        searchParams[field] = value;\n\n        page = 1;\n        setPage(page);\n        list();\n    }\n\n    function searchByDateField(field, value) {\n        if (!value) {\n            searchParams[field] = \"\";\n            page = 1;\n            setPage(page);\n            list();\n            return;\n        }\n\n        if (value) {\n            let d = new Date(value);\n            value = format(d, \"MMM dd yyyy\");\n            console.log(\"value2:\", value);\n            console.log(Intl.DateTimeFormat().resolvedOptions().timeZone)\n        } else {\n            value = \"\";\n        }\n\n\n        if (field === \"date_str\") {\n            setDateValue(value);\n            setFromDateValue(\"\");\n            setToDateValue(\"\");\n            searchParams[\"from_date\"] = \"\";\n            searchParams[\"to_date\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"from_date\") {\n            setFromDateValue(value);\n            setDateValue(\"\");\n            searchParams[\"date\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"to_date\") {\n            setToDateValue(value);\n            setDateValue(\"\");\n            searchParams[\"date\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"created_at\") {\n            setCreatedAtValue(value);\n            setCreatedAtFromValue(\"\");\n            setCreatedAtToValue(\"\");\n            searchParams[\"created_at_from\"] = \"\";\n            searchParams[\"created_at_to\"] = \"\";\n            searchParams[field] = value;\n            console.log(\"searchParams[field]:\", searchParams[field]);\n        }\n        if (field === \"created_at_from\") {\n            setCreatedAtFromValue(value);\n            setCreatedAtValue(\"\");\n            searchParams[\"created_at\"] = \"\";\n            searchParams[field] = value;\n        } else if (field === \"created_at_to\") {\n            setCreatedAtToValue(value);\n            setCreatedAtValue(\"\");\n            searchParams[\"created_at\"] = \"\";\n            searchParams[field] = value;\n        }\n\n        page = 1;\n        setPage(page);\n\n        list();\n    }\n\n    function searchByMultipleValuesField(field, values) {\n        if (field === \"created_by\") {\n            setSelectedCreatedByUsers(values);\n        } else if (field === \"customer_id\") {\n            setSelectedCustomers(values);\n        } else if (field === \"status\") {\n            setSelectedStatusList(values);\n        } else if (field === \"payment_status\") {\n            setSelectedPaymentStatusList(values);\n        } else if (field === \"payment_methods\") {\n            setSelectedPaymentMethodList(values);\n        }\n\n        searchParams[field] = Object.values(values)\n            .map(function (model) {\n                return model.id;\n            })\n            .join(\",\");\n\n        page = 1;\n        setPage(page);\n\n        list();\n    }\n\n    function list() {\n        excelData = [];\n        setExcelData(excelData);\n        const requestOptions = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: cookies.get(\"access_token\"),\n            },\n        };\n        let Select =\n            \"select=id,code,date,net_total,return_count,cash_discount,total_payment_received,payments_count,payment_methods,balance_amount,discount_percent,discount,created_by_name,customer_name,status,payment_status,payment_method,created_at,loss,net_loss,net_profit,store_id,total\";\n\n        if (cookies.get(\"store_id\")) {\n            searchParams.store_id = cookies.get(\"store_id\");\n        }\n\n        const d = new Date();\n        let diff = d.getTimezoneOffset();\n        console.log(\"Timezone:\", parseFloat(diff / 60));\n        searchParams[\"timezone_offset\"] = parseFloat(diff / 60);\n        searchParams[\"stats\"] = \"1\";\n\n        setSearchParams(searchParams);\n        let queryParams = ObjectToSearchQueryParams(searchParams);\n        if (queryParams !== \"\") {\n            queryParams = \"&\" + queryParams;\n        }\n\n        setIsListLoading(true);\n        fetch(\n            \"/v1/order?\" +\n            Select +\n            queryParams +\n            \"&sort=\" +\n            sortOrder +\n            sortField +\n            \"&page=\" +\n            page +\n            \"&limit=\" +\n            pageSize,\n            requestOptions\n        )\n            .then(async (response) => {\n                const isJson = response.headers\n                    .get(\"content-type\")\n                    ?.includes(\"application/json\");\n                const data = isJson && (await response.json());\n\n                // check for error response\n                if (!response.ok) {\n                    const error = data && data.errors;\n                    return Promise.reject(error);\n                }\n\n                setIsListLoading(false);\n                setIsRefreshInProcess(false);\n                setOrderList(data.result);\n\n                let pageCount = parseInt((data.total_count + pageSize - 1) / pageSize);\n\n                setTotalPages(pageCount);\n                setTotalItems(data.total_count);\n                setOffset((page - 1) * pageSize);\n                setCurrentPageItemsCount(data.result.length);\n\n                totalSales = data.meta.total_sales;\n                setTotalSales(totalSales);\n\n                netProfit = data.meta.net_profit;\n                setNetProfit(netProfit);\n\n                loss = data.meta.net_loss;\n                setLoss(loss);\n\n                vatPrice = data.meta.vat_price;\n                setVatPrice(vatPrice);\n\n                totalShippingHandlingFees = data.meta.shipping_handling_fees;\n                setTotalShippingHandlingFees(totalShippingHandlingFees);\n\n                totalDiscount = data.meta.discount;\n                setTotalDiscount(totalDiscount);\n\n                totalCashDiscount = data.meta.cash_discount;\n                setTotalCashDiscount(totalCashDiscount);\n\n                totalPaidSales = data.meta.paid_sales;\n                setTotalPaidSales(totalPaidSales);\n\n                totalUnPaidSales = data.meta.unpaid_sales;\n                setTotalUnPaidSales(totalUnPaidSales);\n\n                totalCashSales = data.meta.cash_sales;\n                setTotalCashSales(totalCashSales);\n\n                totalBankAccountSales = data.meta.bank_account_sales;\n                setTotalBankAccountSales(totalBankAccountSales);\n\n            })\n            .catch((error) => {\n                setIsListLoading(false);\n                setIsRefreshInProcess(false);\n                console.log(error);\n            });\n    }\n\n    function sort(field) {\n        sortField = field;\n        setSortField(sortField);\n        sortOrder = sortOrder === \"-\" ? \"\" : \"-\";\n        setSortOrder(sortOrder);\n        list();\n    }\n\n    function changePageSize(size) {\n        pageSize = parseInt(size);\n        setPageSize(pageSize);\n        list();\n    }\n\n    function changePage(newPage) {\n        page = parseInt(newPage);\n        setPage(page);\n        list();\n    }\n\n    let [showOrderPaymentHistory, setShowOrderPaymentHistory] = useState(false);\n \n    const [selectedOrder, setSelectedOrder] = useState({});\n\n    function openOrderPaymentsDialogue(order) {\n        setSelectedOrder(order);\n        showOrderPaymentHistory = true;\n        setShowOrderPaymentHistory(true);\n    }\n\n\n\n    function handleOrderPaymentHistoryClose() {\n        showOrderPaymentHistory = false;\n        setShowOrderPaymentHistory(false);\n        //list();\n    }\n\n    let [showOrderReturns, setShowOrderReturns] = useState(false);\n    function openOrderReturnsDialogue(order) {\n        setSelectedOrder(order);\n        showOrderReturns = true;\n        setShowOrderReturns(true);\n    }\n\n    function handleOrderReturnsClose() {\n        showOrderReturns = false;\n        setShowOrderReturns(false);\n    }\n\n\n    const DetailsViewRef = useRef();\n    function openDetailsView(id) {\n        DetailsViewRef.current.open(id);\n    }\n\n\n\n    const CreateFormRef = useRef();\n    function openCreateForm() {\n        CreateFormRef.current.open();\n    }\n\n    function openUpdateForm(id) {\n        CreateFormRef.current.open(id);\n    }\n\n    //Cash Discounts\n    const SalesCashDiscountCreateRef = useRef();\n    function openSalesCashDiscountCreateForm(order) {\n        SalesCashDiscountCreateRef.current.open(undefined, order);\n    }\n\n    const SalesCashDiscountDetailsViewRef = useRef();\n    function openSalesCashDiscountDetailsView(id) {\n        SalesCashDiscountDetailsViewRef.current.open(id);\n    }\n\n    function openSalesCashDiscountUpdateForm(id) {\n        SalesCashDiscountCreateRef.current.open(id);\n    }\n\n    const SalesReturnListRef = useRef();\n\n    //Sales Payments\n\n    const SalesPaymentListRef = useRef();\n    function openSalesPaymentList(order) {\n        // SalesPaymentListRef.current.open(undefined, order);\n    }\n\n\n    //Sales Return\n    const SalesReturnCreateRef = useRef();\n    function openSalesReturnCreateForm(id) {\n        SalesReturnCreateRef.current.open(undefined, id);\n    }\n\n    /*\n     const SalesReturnCreateRef = useRef();\n     function openSalesReturnCreateForm(order) {\n         SalesReturnCreateRef.current.open(undefined, order);\n     }\n     */\n\n    const SalesReturnDetailsViewRef = useRef();\n    function openSalesReturnDetailsView(id) {\n        SalesReturnDetailsViewRef.current.open(id);\n    }\n\n    function openSalesReturnUpdateForm(id) {\n        SalesReturnCreateRef.current.open(id);\n    }\n\n\n    return (\n        <>\n            <OrderCreate ref={CreateFormRef} refreshList={list} showToastMessage={props.showToastMessage} openCreateForm={openCreateForm} />\n            <OrderView ref={DetailsViewRef} openCreateForm={openCreateForm} />\n            <SalesReturnCreate ref={SalesReturnCreateRef} showToastMessage={props.showToastMessage} refreshSalesList={list} />\n\n            <div className=\"container-fluid p-0\">\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <h1 className=\"text-end\">\n                            Sales: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalSales.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        <h1 className=\"text-end\">\n                            Paid Sales: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalPaidSales.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        <h4 className=\"text-end\">\n                            Cash Sales: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalCashSales.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h4>\n                        <h4 className=\"text-end\">\n                            Bank Account Sales: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalBankAccountSales.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h4>\n                        <h1 className=\"text-end\">\n                            Credit Sales: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalUnPaidSales.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        <h1 className=\"text-end\">\n                            Cash Discounts: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalCashDiscount.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        <h1 className=\"text-end\">\n                            Sales Discounts: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalDiscount.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n\n                        <h1 className=\"text-end\">\n                            Shipping/Handling fees: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={totalShippingHandlingFees.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n                        <h1 className=\"text-end\">\n                            VAT Collected: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={vatPrice.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1>\n\n                        {cookies.get('admin') === \"true\" ? <h1 className=\"text-end\">\n                            Net Profit: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={netProfit.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1> : \"\"}\n                        {cookies.get('admin') === \"true\" ? <h1 className=\"text-end\">\n                            Loss: <Badge bg=\"secondary\">\n                                <NumberFormat\n                                    value={loss.toFixed(2)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    suffix={\" \"}\n                                    renderText={(value, props) => value}\n                                />\n                            </Badge>\n                        </h1> : \"\"}\n\n                    </div>\n\n                </div>\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <h1 className=\"h3\">Sales Orders123-123</h1>\n                    </div>\n\n\n                    <div className=\"col text-end\">\n\n                        <ExcelFile filename={salesReportFileName} element={excelData.length > 0 ? <Button variant=\"success\" className=\"btn btn-primary mb-3 success\" >Download Sales Report</Button> : \"\"}>\n                            <ExcelSheet dataSet={excelData} name={salesReportFileName} />\n                        </ExcelFile>\n\n                        {excelData.length == 0 ? <Button variant=\"primary\" className=\"btn btn-primary mb-3\" onClick={getAllOrders} >{fettingAllRecordsInProgress ? \"Preparing..\" : \"Sales Report\"}</Button> : \"\"}\n                        &nbsp;&nbsp;\n\n                        <Button\n                            hide={true.toString()}\n                            variant=\"primary\"\n                            className=\"btn btn-primary mb-3\"\n                            onClick={openCreateForm}\n                        >\n                            <i className=\"bi bi-plus-lg\"></i> Create\n                        </Button>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <div className=\"card\">\n                            {/*\n  <div   className=\"card-header\">\n                        <h5   className=\"card-title mb-0\"></h5>\n                    </div>\n                    */}\n                            <div className=\"card-body\">\n                                <div className=\"row\">\n                                    {totalItems === 0 && (\n                                        <div className=\"col\">\n                                            <p className=\"text-start\">No Orders to display</p>\n                                        </div>\n                                    )}\n                                </div>\n                                <div className=\"row\" style={{ border: \"solid 0px\" }}>\n                                    <div className=\"col text-start\" style={{ border: \"solid 0px\" }}>\n                                        <Button\n                                            onClick={() => {\n                                                setIsRefreshInProcess(true);\n                                                list();\n                                            }}\n                                            variant=\"primary\"\n                                            disabled={isRefreshInProcess}\n                                        >\n                                            {isRefreshInProcess ? (\n                                                <Spinner\n                                                    as=\"span\"\n                                                    animation=\"border\"\n                                                    size=\"sm\"\n                                                    role=\"status\"\n                                                    aria-hidden={true}\n                                                />\n                                            ) : (\n                                                <i className=\"fa fa-refresh\"></i>\n                                            )}\n                                            <span className=\"visually-hidden\">Loading...</span>\n                                        </Button>\n                                    </div>\n                                    <div className=\"col text-center\">\n                                        {isListLoading && (\n                                            <Spinner animation=\"grow\" variant=\"primary\" />\n                                        )}\n                                    </div>\n                                    <div className=\"col text-end\">\n                                        {totalItems > 0 && (\n                                            <>\n                                                <label className=\"form-label\">Size:&nbsp;</label>\n                                                <select\n                                                    value={pageSize}\n                                                    onChange={(e) => {\n                                                        changePageSize(e.target.value);\n                                                    }}\n                                                    className=\"form-control pull-right\"\n                                                    style={{\n                                                        border: \"solid 1px\",\n                                                        borderColor: \"silver\",\n                                                        width: \"55px\",\n                                                    }}\n                                                >\n                                                    <option value=\"5\">\n                                                        5\n                                                    </option>\n                                                    <option value=\"10\">\n                                                        10\n                                                    </option>\n                                                    <option value=\"20\">20</option>\n                                                    <option value=\"40\">40</option>\n                                                    <option value=\"50\">50</option>\n                                                    <option value=\"100\">100</option>\n                                                </select>\n                                            </>\n                                        )}\n                                    </div>\n                                </div>\n\n                                <br />\n                                <div className=\"row\">\n                                    <div className=\"col\" style={{ border: \"solid 0px\", width: \"100%\" }}>\n                                        {totalPages ? <ReactPaginate\n                                            breakLabel=\"...\"\n                                            nextLabel=\"next >\"\n                                            onPageChange={(event) => {\n                                                changePage(event.selected + 1);\n                                            }}\n                                            pageRangeDisplayed={5}\n                                            pageCount={totalPages}\n                                            previousLabel=\"< previous\"\n                                            renderOnZeroPageCount={null}\n                                            className=\"pagination  flex-wrap\"\n                                            pageClassName=\"page-item\"\n                                            pageLinkClassName=\"page-link\"\n                                            activeClassName=\"active\"\n                                            previousClassName=\"page-item\"\n                                            nextClassName=\"page-item\"\n                                            previousLinkClassName=\"page-link\"\n                                            nextLinkClassName=\"page-link\"\n                                            forcePage={page - 1}\n                                        /> : \"\"}\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    {totalItems > 0 && (\n                                        <>\n                                            <div className=\"col text-start\">\n                                                <p className=\"text-start\">\n                                                    showing {offset + 1}-{offset + currentPageItemsCount} of{\" \"}\n                                                    {totalItems}\n                                                </p>\n                                            </div>\n\n                                            <div className=\"col text-end\">\n                                                <p className=\"text-end\">\n                                                    page {page} of {totalPages}\n                                                </p>\n                                            </div>\n                                        </>\n                                    )}\n                                </div>\n                                <div className=\"table-responsive\" style={{ overflowX: \"auto\" }}>\n                                    <table className=\"table table-striped table-sm table-bordered\">\n                                        <thead>\n                                            <tr className=\"text-center\">\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"code\");\n                                                        }}\n                                                    >\n                                                        ID\n                                                        {sortField === \"code\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"code\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"date\");\n                                                        }}\n                                                    >\n                                                        Date\n                                                        {sortField === \"date\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"date\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"net_total\");\n                                                        }}\n                                                    >\n                                                        Net Total\n                                                        {sortField === \"net_total\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"net_total\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"cash_discount\");\n                                                        }}\n                                                    >\n                                                        Cash Discount\n                                                        {sortField === \"cash_discount\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"cash_discount\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"total_payment_received\");\n                                                        }}\n                                                    >\n                                                        Amount Paid\n                                                        {sortField === \"total_payment_received\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"total_payment_received\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"balance_amount\");\n                                                        }}\n                                                    >\n                                                        Balance\n                                                        {sortField === \"balance_amount\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"balance_amount\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"payments_count\");\n                                                        }}\n                                                    >\n                                                        No.of Payments\n                                                        {sortField === \"payments_count\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"payments_count\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"payment_status\");\n                                                        }}\n                                                    >\n                                                        Payment Status\n                                                        {sortField === \"payment_status\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"payment_status\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"payment_methods\");\n                                                        }}\n                                                    >\n                                                        Payment Methods\n                                                        {sortField === \"payment_methods\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"payment_methods\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"discount\");\n                                                        }}\n                                                    >\n                                                        Sales Discount\n                                                        {sortField === \"discount\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"discount\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"discount_percent\");\n                                                        }}\n                                                    >\n                                                        Sales Discount %\n                                                        {sortField === \"discount_percent\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"discount_percent\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                {cookies.get('admin') === \"true\" ? <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"net_profit\");\n                                                        }}\n                                                    >\n                                                        Net Profit\n                                                        {sortField === \"net_profit\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"net_profit\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th> : \"\"}\n                                                {cookies.get('admin') === \"true\" ? <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"net_loss\");\n                                                        }}\n                                                    >\n                                                        Net Loss\n                                                        {sortField === \"net_loss\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"net_loss\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th> : \"\"}\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"created_by\");\n                                                        }}\n                                                    >\n                                                        Created By\n                                                        {sortField === \"created_by\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"created_by\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"return_count\");\n                                                        }}\n                                                    >\n                                                        Returns\n                                                        {sortField === \"return_count\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-numeric-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"return_count\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-numeric-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"customer_name\");\n                                                        }}\n                                                    >\n                                                        Customer\n                                                        {sortField === \"customer_name\" &&\n                                                            sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"customer_name\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n\n\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"created_at\");\n                                                        }}\n                                                    >\n                                                        Created At\n                                                        {sortField === \"created_at\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-down\"></i>\n                                                        ) : null}\n                                                        {sortField === \"created_at\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                {/*\n                                                <th>\n                                                    <b\n                                                        style={{\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={() => {\n                                                            sort(\"status\");\n                                                        }}\n                                                    >\n                                                        Status\n                                                        {sortField === \"status\" && sortOrder === \"-\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up-alt\"></i>\n                                                        ) : null}\n                                                        {sortField === \"status\" && sortOrder === \"\" ? (\n                                                            <i className=\"bi bi-sort-alpha-up\"></i>\n                                                        ) : null}\n                                                    </b>\n                                                </th>\n                                                        */}\n\n                                                <th>Actions</th>\n                                            </tr>\n                                        </thead>\n\n                                        <thead>\n                                            <tr className=\"text-center\">\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"code\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"code\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <DatePicker\n                                                        id=\"date_str\"\n                                                        value={dateValue}\n                                                        selected={selectedDate}\n                                                        className=\"form-control\"\n                                                        dateFormat=\"MMM dd yyyy\"\n                                                        onChange={(date) => {\n                                                            if (!date) {\n                                                                setDateValue(\"\");\n                                                                searchByDateField(\"date_str\", \"\");\n                                                                return;\n                                                            }\n                                                            searchByDateField(\"date_str\", date);\n                                                        }}\n                                                    />\n                                                    <small\n                                                        style={{\n                                                            color: \"blue\",\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={(e) => setShowDateRange(!showDateRange)}\n                                                    >\n                                                        {showDateRange ? \"Less..\" : \"More..\"}\n                                                    </small>\n                                                    <br />\n\n                                                    {showDateRange ? (\n                                                        <span className=\"text-left\">\n                                                            From:{\" \"}\n                                                            <DatePicker\n                                                                id=\"from_date\"\n                                                                value={fromDateValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setFromDateValue(\"\");\n                                                                        searchByDateField(\"from_date\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"from_date\", date);\n                                                                }}\n                                                            />\n                                                            To:{\" \"}\n                                                            <DatePicker\n                                                                id=\"to_date\"\n                                                                value={toDateValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setToDateValue(\"\");\n                                                                        searchByDateField(\"to_date\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"to_date\", date);\n                                                                }}\n                                                            />\n                                                        </span>\n                                                    ) : null}\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"net_total\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"net_total\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"cash_discount\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"cash_discount\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"total_payment_received\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"total_payment_received\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"balance_amount\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"balance_amount\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"payments_count\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"payments_count\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <Typeahead\n                                                        id=\"payment_status\"\n                                                        labelKey=\"name\"\n                                                        onChange={(selectedItems) => {\n                                                            searchByMultipleValuesField(\n                                                                \"payment_status\",\n                                                                selectedItems\n                                                            );\n                                                        }}\n                                                        options={paymentStatusOptions}\n                                                        placeholder=\"Select Payment Status\"\n                                                        selected={selectedPaymentStatusList}\n                                                        highlightOnlyResult={true}\n                                                        multiple\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <Typeahead\n                                                        id=\"payment_methods\"\n                                                        labelKey=\"name\"\n                                                        onChange={(selectedItems) => {\n                                                            searchByMultipleValuesField(\n                                                                \"payment_methods\",\n                                                                selectedItems\n                                                            );\n                                                        }}\n                                                        options={paymentMethodOptions}\n                                                        placeholder=\"Select payment methods\"\n                                                        selected={selectedPaymentMethodList}\n                                                        highlightOnlyResult={true}\n                                                        multiple\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"discount\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"discount\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"discount_percent\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"discount_percent\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                {cookies.get('admin') === \"true\" ? <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"net_profit\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"net_profit\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th> : \"\"}\n                                                {cookies.get('admin') === \"true\" ? <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"net_loss\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"net_loss\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th> : \"\"}\n                                                <th>\n                                                    <Typeahead\n                                                        id=\"created_by\"\n                                                        labelKey=\"name\"\n                                                        onChange={(selectedItems) => {\n                                                            searchByMultipleValuesField(\n                                                                \"created_by\",\n                                                                selectedItems\n                                                            );\n                                                        }}\n                                                        options={userOptions}\n                                                        placeholder=\"Select Users\"\n                                                        selected={selectedCreatedByUsers}\n                                                        highlightOnlyResult={true}\n                                                        onInputChange={(searchTerm, e) => {\n                                                            suggestUsers(searchTerm);\n                                                        }}\n                                                        multiple\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <input\n                                                        type=\"text\"\n                                                        id=\"return_count\"\n                                                        onChange={(e) =>\n                                                            searchByFieldValue(\"return_count\", e.target.value)\n                                                        }\n                                                        className=\"form-control\"\n                                                    />\n                                                </th>\n                                                <th>\n                                                    <Typeahead\n                                                        id=\"customer_id\"\n                                                        labelKey=\"search_label\"\n                                                        onChange={(selectedItems) => {\n                                                            searchByMultipleValuesField(\n                                                                \"customer_id\",\n                                                                selectedItems\n                                                            );\n                                                        }}\n                                                        options={customerOptions}\n                                                        placeholder=\"name or mob\"\n                                                        selected={selectedCustomers}\n                                                        highlightOnlyResult={true}\n                                                        onInputChange={(searchTerm, e) => {\n                                                            suggestCustomers(searchTerm);\n                                                        }}\n                                                        multiple\n                                                    />\n                                                </th>\n\n                                                <th>\n                                                    <DatePicker\n                                                        id=\"created_at\"\n                                                        value={createdAtValue}\n                                                        selected={selectedDate}\n                                                        className=\"form-control\"\n                                                        dateFormat=\"MMM dd yyyy\"\n                                                        onChange={(date) => {\n                                                            if (!date) {\n                                                                //  createdAtValue = \"\";\n                                                                setCreatedAtValue(\"\");\n                                                                searchByDateField(\"created_at\", \"\");\n                                                                return;\n                                                            }\n                                                            searchByDateField(\"created_at\", date);\n                                                        }}\n                                                    />\n                                                    <small\n                                                        style={{\n                                                            color: \"blue\",\n                                                            textDecoration: \"underline\",\n                                                            cursor: \"pointer\",\n                                                        }}\n                                                        onClick={(e) =>\n                                                            setShowCreatedAtDateRange(!showCreatedAtDateRange)\n                                                        }\n                                                    >\n                                                        {showCreatedAtDateRange ? \"Less..\" : \"More..\"}\n                                                    </small>\n                                                    <br />\n\n                                                    {showCreatedAtDateRange ? (\n                                                        <span className=\"text-left\">\n                                                            From:{\" \"}\n                                                            <DatePicker\n                                                                id=\"created_at_from\"\n                                                                value={createdAtFromValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setCreatedAtFromValue(\"\");\n                                                                        searchByDateField(\"created_at_from\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"created_at_from\", date);\n                                                                }}\n                                                            />\n                                                            To:{\" \"}\n                                                            <DatePicker\n                                                                id=\"created_at_to\"\n                                                                value={createdAtToValue}\n                                                                selected={selectedDate}\n                                                                className=\"form-control\"\n                                                                dateFormat=\"MMM dd yyyy\"\n                                                                onChange={(date) => {\n                                                                    if (!date) {\n                                                                        setCreatedAtToValue(\"\");\n                                                                        searchByDateField(\"created_at_to\", \"\");\n                                                                        return;\n                                                                    }\n                                                                    searchByDateField(\"created_at_to\", date);\n                                                                }}\n                                                            />\n                                                        </span>\n                                                    ) : null}\n                                                </th>\n                                                {/*\n                                                <th>\n                                                    <Typeahead\n                                                        id=\"status\"\n                                                        labelKey=\"name\"\n                                                        onChange={(selectedItems) => {\n                                                            searchByMultipleValuesField(\n                                                                \"status\",\n                                                                selectedItems\n                                                            );\n                                                        }}\n                                                        options={statusOptions}\n                                                        placeholder=\"Select Status\"\n                                                        selected={selectedStatusList}\n                                                        highlightOnlyResult={true}\n                                                        multiple\n                                                    />\n                                                </th>\n                                                    */}\n\n                                                <th style={{ width: \"150px\" }}></th>\n                                            </tr>\n                                        </thead>\n\n                                        <tbody className=\"text-center\">\n                                            {orderList &&\n                                                orderList.map((order) => (\n                                                    <tr key={order.code}>\n                                                        <td>{order.code}</td>\n                                                        <td>\n                                                            {format(new Date(order.date), \"MMM dd yyyy h:mma\")}\n                                                        </td>\n                                                        <td>{order.net_total?.toFixed(2)}</td>\n                                                        <td>{order.cash_discount?.toFixed(2)}</td>\n                                                        <td>\n\n\n                                                            <Button variant=\"link\" onClick={() => {\n                                                                openOrderPaymentsDialogue(order);\n                                                            }}>\n                                                                {order.total_payment_received?.toFixed(2)}\n                                                            </Button>\n\n                                                        </td>\n                                                        <td>{order.balance_amount?.toFixed(2)}</td>\n                                                        <td>\n\n\n                                                            <Button variant=\"link\" onClick={() => {\n                                                                openOrderPaymentsDialogue(order);\n                                                            }}>\n                                                                {order.payments_count}\n                                                            </Button>\n\n                                                        </td>\n                                                        <td>\n                                                            {order.payment_status == \"paid\" ?\n                                                                <span className=\"badge bg-success\">\n                                                                    Paid\n                                                                </span> : \"\"}\n                                                            {order.payment_status == \"paid_partially\" ?\n                                                                <span className=\"badge bg-warning\">\n                                                                    Paid Partially\n                                                                </span> : \"\"}\n                                                            {order.payment_status == \"not_paid\" ?\n                                                                <span className=\"badge bg-danger\">\n                                                                    Not Paid\n                                                                </span> : \"\"}\n                                                        </td>\n                                                        <td>\n\n                                                            {order.payment_methods &&\n                                                                order.payment_methods.map((name) => (\n                                                                    <span className=\"badge bg-info\">{name}</span>\n                                                                ))}\n\n                                                        </td>\n                                                        <td>{order.discount.toFixed(2)} </td>\n                                                        <td>{order.discount_percent.toFixed(2)} %</td>\n                                                        {cookies.get('admin') === \"true\" ? <td>{order.net_profit?.toFixed(2)} </td> : \"\"}\n                                                        {cookies.get('admin') === \"true\" ? <td>{order.net_loss?.toFixed(2)} </td> : \"\"}\n                                                        <td>{order.created_by_name}</td>\n                                                        <td>\n\n\n                                                            <Button variant=\"link\" onClick={() => {\n                                                                openOrderReturnsDialogue(order);\n                                                            }}>\n                                                                {order.return_count}\n                                                            </Button>\n\n                                                        </td>\n                                                        <td>{order.customer_name}</td>\n                                                        <td>\n                                                            {format(\n                                                                new Date(order.created_at),\n                                                                \"MMM dd yyyy h:mma\"\n                                                            )}\n                                                        </td>\n                                                        {/*\n                                                        <td>\n                                                            <span className=\"badge bg-success\">\n                                                                {order.status}\n                                                            </span>\n                                                            </td>*/}\n\n                                                        <td>\n                                                            {/*\n                                                        <OrderUpdate id={order.id} showUpdateButton={{true}} refreshList={list} showToastMessage={props.showToastMessage} />\n                                                          <OrderView id={order.id} showViewButton={{true}} show={false} />\n                                                        */}\n\n                                                            <Button className=\"btn btn-light btn-sm\" onClick={() => {\n                                                                openUpdateForm(order.id);\n                                                            }}>\n                                                                <i className=\"bi bi-pencil\"></i>\n                                                            </Button>\n\n\n                                                            <Button className=\"btn btn-primary btn-sm\" onClick={() => {\n                                                                openDetailsView(order.id);\n                                                            }}>\n                                                                <i className=\"bi bi-eye\"></i>\n                                                            </Button>\n                                                            <button\n                                                                className=\"btn btn-dark btn-sm\"\n                                                                data-bs-toggle=\"tooltip\"\n                                                                data-bs-placement=\"top\"\n                                                                title=\"Create Sales Return\"\n                                                                onClick={() => {\n                                                                    openSalesReturnCreateForm(order.id);\n                                                                }}\n                                                            >\n                                                                <i className=\"bi bi-arrow-left\"></i> Return\n                                                            </button>\n\n\n                                                            {/*<button\n                                                                className=\"btn btn-outline-secondary dropdown-toggle\"\n                                                                type=\"button\"\n                                                                data-bs-toggle=\"dropdown\"\n                                                                aria-expanded=\"false\"\n                                                            ></button>\n                                                            <ul className=\"dropdown-menu\">\n\n                                                                \n                                                                <li>\n                                                                    <button className=\"dropdown-item\" onClick={() => {\n                                                                        openSalesCashDiscountCreateForm(order);\n                                                                    }}>\n                                                                        <i className=\"bi bi-plus\"></i>\n                                                                        &nbsp;\n                                                                        Add Cash Discount\n                                                                    </button>\n                                                                </li>\n                                                                <li>\n                                                                    <button className=\"dropdown-item\" onClick={() => {\n                                                                        openSalesPaymentCreateForm(order);\n                                                                    }}>\n                                                                        <i className=\"bi bi-plus\"></i>\n                                                                        &nbsp;\n                                                                        Add Payment\n                                                                    </button>\n                                                                </li>\n\n                                                                </ul>*/}\n                                                        </td>\n                                                    </tr>\n                                                ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n\n                                {totalPages ? <ReactPaginate\n                                    breakLabel=\"...\"\n                                    nextLabel=\"next >\"\n                                    onPageChange={(event) => {\n                                        changePage(event.selected + 1);\n                                    }}\n                                    pageRangeDisplayed={5}\n                                    pageCount={totalPages}\n                                    previousLabel=\"< previous\"\n                                    renderOnZeroPageCount={null}\n                                    className=\"pagination  flex-wrap\"\n                                    pageClassName=\"page-item\"\n                                    pageLinkClassName=\"page-link\"\n                                    activeClassName=\"active\"\n                                    previousClassName=\"page-item\"\n                                    nextClassName=\"page-item\"\n                                    previousLinkClassName=\"page-link\"\n                                    nextLinkClassName=\"page-link\"\n                                    forcePage={page - 1}\n                                /> : \"\"}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <Modal show={showOrderPaymentHistory} size=\"lg\" onHide={handleOrderPaymentHistoryClose} animation={false} scrollable={true}>\n                <Modal.Header>\n                    <Modal.Title>Payment history of Order #{selectedOrder.code}</Modal.Title>\n\n                    <div className=\"col align-self-end text-end\">\n                        <button\n                            type=\"button\"\n                            className=\"btn-close\"\n                            onClick={handleOrderPaymentHistoryClose}\n                            aria-label=\"Close\"\n                        ></button>\n\n                    </div>\n                </Modal.Header>\n                <Modal.Body>\n                    <SalesPaymentIndex ref={SalesPaymentListRef} showToastMessage={props.showToastMessage} order={selectedOrder} refreshSalesList={list} />\n                </Modal.Body>\n            </Modal>\n\n            <Modal show={showOrderReturns} size=\"lg\" onHide={handleOrderReturnsClose} animation={false} scrollable={true}>\n                <Modal.Header>\n                    <Modal.Title>Sales Returns of Sale Order #{selectedOrder.code}</Modal.Title>\n\n                    <div className=\"col align-self-end text-end\">\n                        <button\n                            type=\"button\"\n                            className=\"btn-close\"\n                            onClick={handleOrderReturnsClose}\n                            aria-label=\"Close\"\n                        ></button>\n\n                    </div>\n                </Modal.Header>\n                <Modal.Body>\n                    <SalesReturnIndex ref={SalesReturnListRef} showToastMessage={props.showToastMessage} order={selectedOrder} refreshSalesList={list} />\n                </Modal.Body>\n            </Modal>\n\n        </>\n    );\n});\n\nexport default OrderIndex;\n"]},"metadata":{},"sourceType":"module"}